"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.startServer = startServer;

require("source-map-support/register");

var _logger = _interopRequireDefault(require("./logger"));

var _appiumBaseDriver = require("appium-base-driver");

var _driver = require("./driver");

async function startServer(port, address, relaxedSecurityEnabled = false) {
  const driver = new _driver.WindowsDriver({
    port,
    address
  });
  driver.relaxedSecurityEnabled = relaxedSecurityEnabled;
  const server = await (0, _appiumBaseDriver.server)({
    routeConfiguringFunction: (0, _appiumBaseDriver.routeConfiguringFunction)(driver),
    port,
    hostname: address
  });

  _logger.default.info(`WindowsDriver server listening on http://${address}:${port}`);

  return server;
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zZXJ2ZXIuanMiXSwibmFtZXMiOlsic3RhcnRTZXJ2ZXIiLCJwb3J0IiwiYWRkcmVzcyIsInJlbGF4ZWRTZWN1cml0eUVuYWJsZWQiLCJkcml2ZXIiLCJXaW5kb3dzRHJpdmVyIiwic2VydmVyIiwicm91dGVDb25maWd1cmluZ0Z1bmN0aW9uIiwiaG9zdG5hbWUiLCJsb2ciLCJpbmZvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUdBLGVBQWVBLFdBQWYsQ0FBNEJDLElBQTVCLEVBQWtDQyxPQUFsQyxFQUEyQ0Msc0JBQXNCLEdBQUcsS0FBcEUsRUFBMkU7QUFDekUsUUFBTUMsTUFBTSxHQUFHLElBQUlDLHFCQUFKLENBQWtCO0FBQUNKLElBQUFBLElBQUQ7QUFBT0MsSUFBQUE7QUFBUCxHQUFsQixDQUFmO0FBQ0FFLEVBQUFBLE1BQU0sQ0FBQ0Qsc0JBQVAsR0FBZ0NBLHNCQUFoQztBQUNBLFFBQU1HLE1BQU0sR0FBRyxNQUFNLDhCQUFXO0FBQzlCQyxJQUFBQSx3QkFBd0IsRUFBRSxnREFBeUJILE1BQXpCLENBREk7QUFFOUJILElBQUFBLElBRjhCO0FBRzlCTyxJQUFBQSxRQUFRLEVBQUVOO0FBSG9CLEdBQVgsQ0FBckI7O0FBS0FPLGtCQUFJQyxJQUFKLENBQVUsNENBQTJDUixPQUFRLElBQUdELElBQUssRUFBckU7O0FBQ0EsU0FBT0ssTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZyBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBzZXJ2ZXIgYXMgYmFzZVNlcnZlciwgcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uIH0gZnJvbSAnYXBwaXVtLWJhc2UtZHJpdmVyJztcbmltcG9ydCB7IFdpbmRvd3NEcml2ZXIgfSBmcm9tICcuL2RyaXZlcic7XG5cblxuYXN5bmMgZnVuY3Rpb24gc3RhcnRTZXJ2ZXIgKHBvcnQsIGFkZHJlc3MsIHJlbGF4ZWRTZWN1cml0eUVuYWJsZWQgPSBmYWxzZSkge1xuICBjb25zdCBkcml2ZXIgPSBuZXcgV2luZG93c0RyaXZlcih7cG9ydCwgYWRkcmVzc30pO1xuICBkcml2ZXIucmVsYXhlZFNlY3VyaXR5RW5hYmxlZCA9IHJlbGF4ZWRTZWN1cml0eUVuYWJsZWQ7XG4gIGNvbnN0IHNlcnZlciA9IGF3YWl0IGJhc2VTZXJ2ZXIoe1xuICAgIHJvdXRlQ29uZmlndXJpbmdGdW5jdGlvbjogcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uKGRyaXZlciksXG4gICAgcG9ydCxcbiAgICBob3N0bmFtZTogYWRkcmVzcyxcbiAgfSk7XG4gIGxvZy5pbmZvKGBXaW5kb3dzRHJpdmVyIHNlcnZlciBsaXN0ZW5pbmcgb24gaHR0cDovLyR7YWRkcmVzc306JHtwb3J0fWApO1xuICByZXR1cm4gc2VydmVyO1xufVxuXG5leHBvcnQgeyBzdGFydFNlcnZlciB9O1xuIl0sImZpbGUiOiJsaWIvc2VydmVyLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
