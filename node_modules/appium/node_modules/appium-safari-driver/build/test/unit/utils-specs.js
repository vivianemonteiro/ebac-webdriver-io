"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("source-map-support/register");

var _utils = require("../../lib/utils");

var _chai = _interopRequireDefault(require("chai"));

_chai.default.should();

describe('formatCapsForServer', function () {
  it('should format empty caps', function () {
    const result = (0, _utils.formatCapsForServer)({});
    result.should.eql({
      browserName: 'Safari',
      browserVersion: undefined,
      platformName: 'iOS'
    });
  });
  it('should assign default caps', function () {
    const result = (0, _utils.formatCapsForServer)({
      browserName: 'yolo',
      browserVersion: '12',
      platformName: 'mac'
    });
    result.should.eql({
      browserName: 'Safari',
      browserVersion: '12',
      platformName: 'mac'
    });
  });
  it('should only pass caps with supported prefixes', function () {
    const result = (0, _utils.formatCapsForServer)({
      'safari:deviceUDID': '1234',
      'webkit:yolo': '567',
      'appium:bar': '789'
    });
    result.should.eql({
      browserName: 'Safari',
      browserVersion: undefined,
      platformName: 'iOS',
      'safari:deviceUDID': '1234',
      'webkit:yolo': '567'
    });
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC91dGlscy1zcGVjcy5qcyJdLCJuYW1lcyI6WyJjaGFpIiwic2hvdWxkIiwiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsImVxbCIsImJyb3dzZXJOYW1lIiwiYnJvd3NlclZlcnNpb24iLCJ1bmRlZmluZWQiLCJwbGF0Zm9ybU5hbWUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUVBQSxjQUFLQyxNQUFMOztBQUVBQyxRQUFRLENBQUMscUJBQUQsRUFBd0IsWUFBWTtBQUMxQ0MsRUFBQUEsRUFBRSxDQUFDLDBCQUFELEVBQTZCLFlBQVk7QUFDekMsVUFBTUMsTUFBTSxHQUFHLGdDQUFvQixFQUFwQixDQUFmO0FBQ0FBLElBQUFBLE1BQU0sQ0FBQ0gsTUFBUCxDQUFjSSxHQUFkLENBQWtCO0FBQ2hCQyxNQUFBQSxXQUFXLEVBQUUsUUFERztBQUVoQkMsTUFBQUEsY0FBYyxFQUFFQyxTQUZBO0FBR2hCQyxNQUFBQSxZQUFZLEVBQUU7QUFIRSxLQUFsQjtBQUtELEdBUEMsQ0FBRjtBQVNBTixFQUFBQSxFQUFFLENBQUMsNEJBQUQsRUFBK0IsWUFBWTtBQUMzQyxVQUFNQyxNQUFNLEdBQUcsZ0NBQW9CO0FBQ2pDRSxNQUFBQSxXQUFXLEVBQUUsTUFEb0I7QUFFakNDLE1BQUFBLGNBQWMsRUFBRSxJQUZpQjtBQUdqQ0UsTUFBQUEsWUFBWSxFQUFFO0FBSG1CLEtBQXBCLENBQWY7QUFLQUwsSUFBQUEsTUFBTSxDQUFDSCxNQUFQLENBQWNJLEdBQWQsQ0FBa0I7QUFDaEJDLE1BQUFBLFdBQVcsRUFBRSxRQURHO0FBRWhCQyxNQUFBQSxjQUFjLEVBQUUsSUFGQTtBQUdoQkUsTUFBQUEsWUFBWSxFQUFFO0FBSEUsS0FBbEI7QUFLRCxHQVhDLENBQUY7QUFhQU4sRUFBQUEsRUFBRSxDQUFDLCtDQUFELEVBQWtELFlBQVk7QUFDOUQsVUFBTUMsTUFBTSxHQUFHLGdDQUFvQjtBQUNqQywyQkFBcUIsTUFEWTtBQUVqQyxxQkFBZSxLQUZrQjtBQUdqQyxvQkFBYztBQUhtQixLQUFwQixDQUFmO0FBS0FBLElBQUFBLE1BQU0sQ0FBQ0gsTUFBUCxDQUFjSSxHQUFkLENBQWtCO0FBQ2hCQyxNQUFBQSxXQUFXLEVBQUUsUUFERztBQUVoQkMsTUFBQUEsY0FBYyxFQUFFQyxTQUZBO0FBR2hCQyxNQUFBQSxZQUFZLEVBQUUsS0FIRTtBQUloQiwyQkFBcUIsTUFKTDtBQUtoQixxQkFBZTtBQUxDLEtBQWxCO0FBT0QsR0FiQyxDQUFGO0FBY0QsQ0FyQ08sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdENhcHNGb3JTZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWIvdXRpbHMnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5cbmNoYWkuc2hvdWxkKCk7XG5cbmRlc2NyaWJlKCdmb3JtYXRDYXBzRm9yU2VydmVyJywgZnVuY3Rpb24gKCkge1xuICBpdCgnc2hvdWxkIGZvcm1hdCBlbXB0eSBjYXBzJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdENhcHNGb3JTZXJ2ZXIoe30pO1xuICAgIHJlc3VsdC5zaG91bGQuZXFsKHtcbiAgICAgIGJyb3dzZXJOYW1lOiAnU2FmYXJpJyxcbiAgICAgIGJyb3dzZXJWZXJzaW9uOiB1bmRlZmluZWQsXG4gICAgICBwbGF0Zm9ybU5hbWU6ICdpT1MnLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIGFzc2lnbiBkZWZhdWx0IGNhcHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0Q2Fwc0ZvclNlcnZlcih7XG4gICAgICBicm93c2VyTmFtZTogJ3lvbG8nLFxuICAgICAgYnJvd3NlclZlcnNpb246ICcxMicsXG4gICAgICBwbGF0Zm9ybU5hbWU6ICdtYWMnLFxuICAgIH0pO1xuICAgIHJlc3VsdC5zaG91bGQuZXFsKHtcbiAgICAgIGJyb3dzZXJOYW1lOiAnU2FmYXJpJyxcbiAgICAgIGJyb3dzZXJWZXJzaW9uOiAnMTInLFxuICAgICAgcGxhdGZvcm1OYW1lOiAnbWFjJyxcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBvbmx5IHBhc3MgY2FwcyB3aXRoIHN1cHBvcnRlZCBwcmVmaXhlcycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRDYXBzRm9yU2VydmVyKHtcbiAgICAgICdzYWZhcmk6ZGV2aWNlVURJRCc6ICcxMjM0JyxcbiAgICAgICd3ZWJraXQ6eW9sbyc6ICc1NjcnLFxuICAgICAgJ2FwcGl1bTpiYXInOiAnNzg5JyxcbiAgICB9KTtcbiAgICByZXN1bHQuc2hvdWxkLmVxbCh7XG4gICAgICBicm93c2VyTmFtZTogJ1NhZmFyaScsXG4gICAgICBicm93c2VyVmVyc2lvbjogdW5kZWZpbmVkLFxuICAgICAgcGxhdGZvcm1OYW1lOiAnaU9TJyxcbiAgICAgICdzYWZhcmk6ZGV2aWNlVURJRCc6ICcxMjM0JyxcbiAgICAgICd3ZWJraXQ6eW9sbyc6ICc1NjcnLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJ0ZXN0L3VuaXQvdXRpbHMtc3BlY3MuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
