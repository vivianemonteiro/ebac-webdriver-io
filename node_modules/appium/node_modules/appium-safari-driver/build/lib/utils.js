"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatCapsForServer = formatCapsForServer;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

const SAFARI_CAP_PREFIXES = ['safari:', 'webkit:'];

function formatCapsForServer(caps) {
  const result = {
    browserName: 'Safari',
    browserVersion: caps.browserVersion,
    platformName: caps.platformName || 'iOS'
  };

  for (const [name, value] of _lodash.default.toPairs(caps)) {
    if (SAFARI_CAP_PREFIXES.some(prefix => name.startsWith(prefix))) {
      result[name] = value;
    }
  }

  return result;
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi91dGlscy5qcyJdLCJuYW1lcyI6WyJTQUZBUklfQ0FQX1BSRUZJWEVTIiwiZm9ybWF0Q2Fwc0ZvclNlcnZlciIsImNhcHMiLCJyZXN1bHQiLCJicm93c2VyTmFtZSIsImJyb3dzZXJWZXJzaW9uIiwicGxhdGZvcm1OYW1lIiwibmFtZSIsInZhbHVlIiwiXyIsInRvUGFpcnMiLCJzb21lIiwicHJlZml4Iiwic3RhcnRzV2l0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxNQUFNQSxtQkFBbUIsR0FBRyxDQUFDLFNBQUQsRUFBWSxTQUFaLENBQTVCOztBQUVBLFNBQVNDLG1CQUFULENBQThCQyxJQUE5QixFQUFvQztBQUNsQyxRQUFNQyxNQUFNLEdBQUc7QUFDYkMsSUFBQUEsV0FBVyxFQUFFLFFBREE7QUFFYkMsSUFBQUEsY0FBYyxFQUFFSCxJQUFJLENBQUNHLGNBRlI7QUFHYkMsSUFBQUEsWUFBWSxFQUFFSixJQUFJLENBQUNJLFlBQUwsSUFBcUI7QUFIdEIsR0FBZjs7QUFLQSxPQUFLLE1BQU0sQ0FBQ0MsSUFBRCxFQUFPQyxLQUFQLENBQVgsSUFBNEJDLGdCQUFFQyxPQUFGLENBQVVSLElBQVYsQ0FBNUIsRUFBNkM7QUFDM0MsUUFBSUYsbUJBQW1CLENBQUNXLElBQXBCLENBQTBCQyxNQUFELElBQVlMLElBQUksQ0FBQ00sVUFBTCxDQUFnQkQsTUFBaEIsQ0FBckMsQ0FBSixFQUFtRTtBQUNqRVQsTUFBQUEsTUFBTSxDQUFDSSxJQUFELENBQU4sR0FBZUMsS0FBZjtBQUNEO0FBQ0Y7O0FBQ0QsU0FBT0wsTUFBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IF8gZnJvbSAnbG9kYXNoJztcblxuY29uc3QgU0FGQVJJX0NBUF9QUkVGSVhFUyA9IFsnc2FmYXJpOicsICd3ZWJraXQ6J107XG5cbmZ1bmN0aW9uIGZvcm1hdENhcHNGb3JTZXJ2ZXIgKGNhcHMpIHtcbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIGJyb3dzZXJOYW1lOiAnU2FmYXJpJyxcbiAgICBicm93c2VyVmVyc2lvbjogY2Fwcy5icm93c2VyVmVyc2lvbixcbiAgICBwbGF0Zm9ybU5hbWU6IGNhcHMucGxhdGZvcm1OYW1lIHx8ICdpT1MnLFxuICB9O1xuICBmb3IgKGNvbnN0IFtuYW1lLCB2YWx1ZV0gb2YgXy50b1BhaXJzKGNhcHMpKSB7XG4gICAgaWYgKFNBRkFSSV9DQVBfUFJFRklYRVMuc29tZSgocHJlZml4KSA9PiBuYW1lLnN0YXJ0c1dpdGgocHJlZml4KSkpIHtcbiAgICAgIHJlc3VsdFtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgeyBmb3JtYXRDYXBzRm9yU2VydmVyIH07XG4iXSwiZmlsZSI6ImxpYi91dGlscy5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
