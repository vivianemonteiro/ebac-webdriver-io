"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.DEFAULT_SDB_PORT = exports.default = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _index = _interopRequireDefault(require("./tools/index.js"));

const DEFAULT_SDB_PORT = 26099;
exports.DEFAULT_SDB_PORT = DEFAULT_SDB_PORT;
const DEFAULT_OPTS = {
  sdkRoot: null,
  udid: null,
  executable: {
    path: 'sdb',
    defaultArgs: []
  },
  curDeviceId: null,
  emulatorPort: null,
  binaries: {},
  suppressKillServer: null,
  sdbPort: DEFAULT_SDB_PORT
};

class SDB {
  constructor(opts = {}) {
    if (typeof opts.sdkRoot === 'undefined') {
      opts.sdkRoot = process.env.TIZEN_HOME || '';
    }

    Object.assign(this, opts);

    _lodash.default.defaultsDeep(this, _lodash.default.cloneDeep(DEFAULT_OPTS));

    if (opts.remoteSdbPort) {
      this.sdbPort = opts.remoteSdbPort;
    }
  }

}

SDB.createSDB = async function (opts) {
  let sdb = new SDB(opts);
  await sdb.getSdbWithCorrectSdbPath();
  return sdb;
};

for (let [fnName, fn] of _lodash.default.toPairs(_index.default)) {
  SDB.prototype[fnName] = fn;
}

var _default = SDB;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zZGIuanMiXSwibmFtZXMiOlsiREVGQVVMVF9TREJfUE9SVCIsIkRFRkFVTFRfT1BUUyIsInNka1Jvb3QiLCJ1ZGlkIiwiZXhlY3V0YWJsZSIsInBhdGgiLCJkZWZhdWx0QXJncyIsImN1ckRldmljZUlkIiwiZW11bGF0b3JQb3J0IiwiYmluYXJpZXMiLCJzdXBwcmVzc0tpbGxTZXJ2ZXIiLCJzZGJQb3J0IiwiU0RCIiwiY29uc3RydWN0b3IiLCJvcHRzIiwicHJvY2VzcyIsImVudiIsIlRJWkVOX0hPTUUiLCJPYmplY3QiLCJhc3NpZ24iLCJfIiwiZGVmYXVsdHNEZWVwIiwiY2xvbmVEZWVwIiwicmVtb3RlU2RiUG9ydCIsImNyZWF0ZVNEQiIsInNkYiIsImdldFNkYldpdGhDb3JyZWN0U2RiUGF0aCIsImZuTmFtZSIsImZuIiwidG9QYWlycyIsIm1ldGhvZHMiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQWdCLEdBQUcsS0FBekI7O0FBQ0EsTUFBTUMsWUFBWSxHQUFHO0FBQ25CQyxFQUFBQSxPQUFPLEVBQUUsSUFEVTtBQUVuQkMsRUFBQUEsSUFBSSxFQUFFLElBRmE7QUFHbkJDLEVBQUFBLFVBQVUsRUFBRTtBQUFDQyxJQUFBQSxJQUFJLEVBQUUsS0FBUDtBQUFjQyxJQUFBQSxXQUFXLEVBQUU7QUFBM0IsR0FITztBQUluQkMsRUFBQUEsV0FBVyxFQUFFLElBSk07QUFLbkJDLEVBQUFBLFlBQVksRUFBRSxJQUxLO0FBTW5CQyxFQUFBQSxRQUFRLEVBQUUsRUFOUztBQU9uQkMsRUFBQUEsa0JBQWtCLEVBQUUsSUFQRDtBQVFuQkMsRUFBQUEsT0FBTyxFQUFFWDtBQVJVLENBQXJCOztBQVdBLE1BQU1ZLEdBQU4sQ0FBVTtBQUNSQyxFQUFBQSxXQUFXLENBQUVDLElBQUksR0FBRyxFQUFULEVBQWE7QUFDdEIsUUFBSSxPQUFPQSxJQUFJLENBQUNaLE9BQVosS0FBd0IsV0FBNUIsRUFBeUM7QUFDdkNZLE1BQUFBLElBQUksQ0FBQ1osT0FBTCxHQUFlYSxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsVUFBWixJQUEwQixFQUF6QztBQUNEOztBQUVEQyxJQUFBQSxNQUFNLENBQUNDLE1BQVAsQ0FBYyxJQUFkLEVBQW9CTCxJQUFwQjs7QUFDQU0sb0JBQUVDLFlBQUYsQ0FBZSxJQUFmLEVBQXFCRCxnQkFBRUUsU0FBRixDQUFZckIsWUFBWixDQUFyQjs7QUFFQSxRQUFJYSxJQUFJLENBQUNTLGFBQVQsRUFBd0I7QUFDdEIsV0FBS1osT0FBTCxHQUFlRyxJQUFJLENBQUNTLGFBQXBCO0FBQ0Q7QUFDRjs7QUFaTzs7QUFlVlgsR0FBRyxDQUFDWSxTQUFKLEdBQWdCLGdCQUFnQlYsSUFBaEIsRUFBc0I7QUFDcEMsTUFBSVcsR0FBRyxHQUFHLElBQUliLEdBQUosQ0FBUUUsSUFBUixDQUFWO0FBQ0EsUUFBTVcsR0FBRyxDQUFDQyx3QkFBSixFQUFOO0FBQ0EsU0FBT0QsR0FBUDtBQUNELENBSkQ7O0FBT0EsS0FBSyxJQUFJLENBQUNFLE1BQUQsRUFBU0MsRUFBVCxDQUFULElBQXlCUixnQkFBRVMsT0FBRixDQUFVQyxjQUFWLENBQXpCLEVBQTZDO0FBQzNDbEIsRUFBQUEsR0FBRyxDQUFDbUIsU0FBSixDQUFjSixNQUFkLElBQXdCQyxFQUF4QjtBQUNEOztlQUVjaEIsRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XHJcbmltcG9ydCBtZXRob2RzIGZyb20gJy4vdG9vbHMvaW5kZXguanMnO1xyXG5cclxuY29uc3QgREVGQVVMVF9TREJfUE9SVCA9IDI2MDk5O1xyXG5jb25zdCBERUZBVUxUX09QVFMgPSB7XHJcbiAgc2RrUm9vdDogbnVsbCxcclxuICB1ZGlkOiBudWxsLFxyXG4gIGV4ZWN1dGFibGU6IHtwYXRoOiAnc2RiJywgZGVmYXVsdEFyZ3M6IFtdfSxcclxuICBjdXJEZXZpY2VJZDogbnVsbCxcclxuICBlbXVsYXRvclBvcnQ6IG51bGwsXHJcbiAgYmluYXJpZXM6IHt9LFxyXG4gIHN1cHByZXNzS2lsbFNlcnZlcjogbnVsbCxcclxuICBzZGJQb3J0OiBERUZBVUxUX1NEQl9QT1JUXHJcbn07XHJcblxyXG5jbGFzcyBTREIge1xyXG4gIGNvbnN0cnVjdG9yIChvcHRzID0ge30pIHtcclxuICAgIGlmICh0eXBlb2Ygb3B0cy5zZGtSb290ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBvcHRzLnNka1Jvb3QgPSBwcm9jZXNzLmVudi5USVpFTl9IT01FIHx8ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0cyk7XHJcbiAgICBfLmRlZmF1bHRzRGVlcCh0aGlzLCBfLmNsb25lRGVlcChERUZBVUxUX09QVFMpKTtcclxuXHJcbiAgICBpZiAob3B0cy5yZW1vdGVTZGJQb3J0KSB7XHJcbiAgICAgIHRoaXMuc2RiUG9ydCA9IG9wdHMucmVtb3RlU2RiUG9ydDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblNEQi5jcmVhdGVTREIgPSBhc3luYyBmdW5jdGlvbiAob3B0cykge1xyXG4gIGxldCBzZGIgPSBuZXcgU0RCKG9wdHMpO1xyXG4gIGF3YWl0IHNkYi5nZXRTZGJXaXRoQ29ycmVjdFNkYlBhdGgoKTtcclxuICByZXR1cm4gc2RiO1xyXG59O1xyXG5cclxuLy8gYWRkIGFsbCB0aGUgbWV0aG9kcyB0byB0aGUgU0RCIHByb3RvdHlwZVxyXG5mb3IgKGxldCBbZm5OYW1lLCBmbl0gb2YgXy50b1BhaXJzKG1ldGhvZHMpKSB7XHJcbiAgU0RCLnByb3RvdHlwZVtmbk5hbWVdID0gZm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNEQjtcclxuZXhwb3J0IHsgREVGQVVMVF9TREJfUE9SVCB9O1xyXG4iXSwiZmlsZSI6ImxpYi9zZGIuanMiLCJzb3VyY2VSb290IjoiLi5cXC4uIn0=
