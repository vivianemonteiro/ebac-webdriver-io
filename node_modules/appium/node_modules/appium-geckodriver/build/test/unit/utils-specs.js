"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

require("source-map-support/register");

var _utils = require("../../lib/utils");

var _chai = _interopRequireDefault(require("chai"));

_chai.default.should();

describe('formatCapsForServer', function () {
  it('should format empty caps', function () {
    const result = (0, _utils.formatCapsForServer)({});
    result.should.eql({});
  });
  it('should assign default caps', function () {
    const result = (0, _utils.formatCapsForServer)({
      browserName: 'yolo',
      browserVersion: '52',
      platformName: 'Mac'
    });
    result.should.eql({
      browserName: 'firefox',
      browserVersion: '52',
      platformName: 'mac'
    });
  });
  it('should only pass caps with supported prefixes', function () {
    const result = (0, _utils.formatCapsForServer)({
      browserVersion: '52',
      bar: '67',
      'moz:foo': '1234',
      'webkit:yolo': '567',
      'appium:bar': '789'
    });
    result.should.eql({
      browserVersion: '52',
      'moz:foo': '1234'
    });
  });
});require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvdW5pdC91dGlscy1zcGVjcy5qcyJdLCJuYW1lcyI6WyJjaGFpIiwic2hvdWxkIiwiZGVzY3JpYmUiLCJpdCIsInJlc3VsdCIsImVxbCIsImJyb3dzZXJOYW1lIiwiYnJvd3NlclZlcnNpb24iLCJwbGF0Zm9ybU5hbWUiLCJiYXIiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUVBQSxjQUFLQyxNQUFMOztBQUVBQyxRQUFRLENBQUMscUJBQUQsRUFBd0IsWUFBWTtBQUMxQ0MsRUFBQUEsRUFBRSxDQUFDLDBCQUFELEVBQTZCLFlBQVk7QUFDekMsVUFBTUMsTUFBTSxHQUFHLGdDQUFvQixFQUFwQixDQUFmO0FBQ0FBLElBQUFBLE1BQU0sQ0FBQ0gsTUFBUCxDQUFjSSxHQUFkLENBQWtCLEVBQWxCO0FBQ0QsR0FIQyxDQUFGO0FBS0FGLEVBQUFBLEVBQUUsQ0FBQyw0QkFBRCxFQUErQixZQUFZO0FBQzNDLFVBQU1DLE1BQU0sR0FBRyxnQ0FBb0I7QUFDakNFLE1BQUFBLFdBQVcsRUFBRSxNQURvQjtBQUVqQ0MsTUFBQUEsY0FBYyxFQUFFLElBRmlCO0FBR2pDQyxNQUFBQSxZQUFZLEVBQUU7QUFIbUIsS0FBcEIsQ0FBZjtBQUtBSixJQUFBQSxNQUFNLENBQUNILE1BQVAsQ0FBY0ksR0FBZCxDQUFrQjtBQUNoQkMsTUFBQUEsV0FBVyxFQUFFLFNBREc7QUFFaEJDLE1BQUFBLGNBQWMsRUFBRSxJQUZBO0FBR2hCQyxNQUFBQSxZQUFZLEVBQUU7QUFIRSxLQUFsQjtBQUtELEdBWEMsQ0FBRjtBQWFBTCxFQUFBQSxFQUFFLENBQUMsK0NBQUQsRUFBa0QsWUFBWTtBQUM5RCxVQUFNQyxNQUFNLEdBQUcsZ0NBQW9CO0FBQ2pDRyxNQUFBQSxjQUFjLEVBQUUsSUFEaUI7QUFFakNFLE1BQUFBLEdBQUcsRUFBRSxJQUY0QjtBQUdqQyxpQkFBVyxNQUhzQjtBQUlqQyxxQkFBZSxLQUprQjtBQUtqQyxvQkFBYztBQUxtQixLQUFwQixDQUFmO0FBT0FMLElBQUFBLE1BQU0sQ0FBQ0gsTUFBUCxDQUFjSSxHQUFkLENBQWtCO0FBQ2hCRSxNQUFBQSxjQUFjLEVBQUUsSUFEQTtBQUVoQixpQkFBVztBQUZLLEtBQWxCO0FBSUQsR0FaQyxDQUFGO0FBYUQsQ0FoQ08sQ0FBUiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZvcm1hdENhcHNGb3JTZXJ2ZXIgfSBmcm9tICcuLi8uLi9saWIvdXRpbHMnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5cbmNoYWkuc2hvdWxkKCk7XG5cbmRlc2NyaWJlKCdmb3JtYXRDYXBzRm9yU2VydmVyJywgZnVuY3Rpb24gKCkge1xuICBpdCgnc2hvdWxkIGZvcm1hdCBlbXB0eSBjYXBzJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdENhcHNGb3JTZXJ2ZXIoe30pO1xuICAgIHJlc3VsdC5zaG91bGQuZXFsKHt9KTtcbiAgfSk7XG5cbiAgaXQoJ3Nob3VsZCBhc3NpZ24gZGVmYXVsdCBjYXBzJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdENhcHNGb3JTZXJ2ZXIoe1xuICAgICAgYnJvd3Nlck5hbWU6ICd5b2xvJyxcbiAgICAgIGJyb3dzZXJWZXJzaW9uOiAnNTInLFxuICAgICAgcGxhdGZvcm1OYW1lOiAnTWFjJyxcbiAgICB9KTtcbiAgICByZXN1bHQuc2hvdWxkLmVxbCh7XG4gICAgICBicm93c2VyTmFtZTogJ2ZpcmVmb3gnLFxuICAgICAgYnJvd3NlclZlcnNpb246ICc1MicsXG4gICAgICBwbGF0Zm9ybU5hbWU6ICdtYWMnLFxuICAgIH0pO1xuICB9KTtcblxuICBpdCgnc2hvdWxkIG9ubHkgcGFzcyBjYXBzIHdpdGggc3VwcG9ydGVkIHByZWZpeGVzJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdENhcHNGb3JTZXJ2ZXIoe1xuICAgICAgYnJvd3NlclZlcnNpb246ICc1MicsXG4gICAgICBiYXI6ICc2NycsXG4gICAgICAnbW96OmZvbyc6ICcxMjM0JyxcbiAgICAgICd3ZWJraXQ6eW9sbyc6ICc1NjcnLFxuICAgICAgJ2FwcGl1bTpiYXInOiAnNzg5JyxcbiAgICB9KTtcbiAgICByZXN1bHQuc2hvdWxkLmVxbCh7XG4gICAgICBicm93c2VyVmVyc2lvbjogJzUyJyxcbiAgICAgICdtb3o6Zm9vJzogJzEyMzQnLFxuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sImZpbGUiOiJ0ZXN0L3VuaXQvdXRpbHMtc3BlY3MuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
