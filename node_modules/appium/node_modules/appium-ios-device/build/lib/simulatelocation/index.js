"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.SIMULATE_LOCATION_SERVICE_NAME = exports.SimulateLocationService = void 0;

require("source-map-support/register");

var _baseService = require("../base-service");

const SIMULATE_LOCATION_SERVICE_NAME = 'com.apple.dt.simulatelocation';
exports.SIMULATE_LOCATION_SERVICE_NAME = SIMULATE_LOCATION_SERVICE_NAME;
const RESET_MESSAGE = Buffer.from([0, 0, 0, 1]);
const SET_LOCATION_MESSAGE = Buffer.from([0, 0, 0, 0]);

class SimulateLocationService extends _baseService.BaseServiceSocket {
  resetLocation() {
    this._socketClient.write(RESET_MESSAGE);
  }

  setLocation(lat, long) {
    lat = `${lat}`;
    long = `${long}`;
    const lat_length = Buffer.alloc(4);
    lat_length.writeInt32BE(lat.length);
    const long_length = Buffer.alloc(4);
    long_length.writeInt32BE(long.length);

    this._socketClient.write(SET_LOCATION_MESSAGE);

    this._socketClient.write(lat_length);

    this._socketClient.write(lat);

    this._socketClient.write(long_length);

    this._socketClient.write(long);
  }

}

exports.SimulateLocationService = SimulateLocationService;
var _default = SimulateLocationService;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zaW11bGF0ZWxvY2F0aW9uL2luZGV4LmpzIl0sIm5hbWVzIjpbIlNJTVVMQVRFX0xPQ0FUSU9OX1NFUlZJQ0VfTkFNRSIsIlJFU0VUX01FU1NBR0UiLCJCdWZmZXIiLCJmcm9tIiwiU0VUX0xPQ0FUSU9OX01FU1NBR0UiLCJTaW11bGF0ZUxvY2F0aW9uU2VydmljZSIsIkJhc2VTZXJ2aWNlU29ja2V0IiwicmVzZXRMb2NhdGlvbiIsIl9zb2NrZXRDbGllbnQiLCJ3cml0ZSIsInNldExvY2F0aW9uIiwibGF0IiwibG9uZyIsImxhdF9sZW5ndGgiLCJhbGxvYyIsIndyaXRlSW50MzJCRSIsImxlbmd0aCIsImxvbmdfbGVuZ3RoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFHQSxNQUFNQSw4QkFBOEIsR0FBRywrQkFBdkM7O0FBRUEsTUFBTUMsYUFBYSxHQUFHQyxNQUFNLENBQUNDLElBQVAsQ0FBWSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBWixDQUF0QjtBQUNBLE1BQU1DLG9CQUFvQixHQUFHRixNQUFNLENBQUNDLElBQVAsQ0FBWSxDQUFDLENBQUQsRUFBSSxDQUFKLEVBQU8sQ0FBUCxFQUFVLENBQVYsQ0FBWixDQUE3Qjs7QUFFQSxNQUFNRSx1QkFBTixTQUFzQ0MsOEJBQXRDLENBQXdEO0FBSXREQyxFQUFBQSxhQUFhLEdBQUk7QUFDZixTQUFLQyxhQUFMLENBQW1CQyxLQUFuQixDQUF5QlIsYUFBekI7QUFDRDs7QUFPRFMsRUFBQUEsV0FBVyxDQUFFQyxHQUFGLEVBQU9DLElBQVAsRUFBYTtBQUN0QkQsSUFBQUEsR0FBRyxHQUFJLEdBQUVBLEdBQUksRUFBYjtBQUNBQyxJQUFBQSxJQUFJLEdBQUksR0FBRUEsSUFBSyxFQUFmO0FBRUEsVUFBTUMsVUFBVSxHQUFHWCxNQUFNLENBQUNZLEtBQVAsQ0FBYSxDQUFiLENBQW5CO0FBQ0FELElBQUFBLFVBQVUsQ0FBQ0UsWUFBWCxDQUF3QkosR0FBRyxDQUFDSyxNQUE1QjtBQUVBLFVBQU1DLFdBQVcsR0FBR2YsTUFBTSxDQUFDWSxLQUFQLENBQWEsQ0FBYixDQUFwQjtBQUNBRyxJQUFBQSxXQUFXLENBQUNGLFlBQVosQ0FBeUJILElBQUksQ0FBQ0ksTUFBOUI7O0FBRUEsU0FBS1IsYUFBTCxDQUFtQkMsS0FBbkIsQ0FBeUJMLG9CQUF6Qjs7QUFFQSxTQUFLSSxhQUFMLENBQW1CQyxLQUFuQixDQUF5QkksVUFBekI7O0FBQ0EsU0FBS0wsYUFBTCxDQUFtQkMsS0FBbkIsQ0FBeUJFLEdBQXpCOztBQUVBLFNBQUtILGFBQUwsQ0FBbUJDLEtBQW5CLENBQXlCUSxXQUF6Qjs7QUFDQSxTQUFLVCxhQUFMLENBQW1CQyxLQUFuQixDQUF5QkcsSUFBekI7QUFDRDs7QUE5QnFEOzs7ZUFrQ3pDUCx1QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJhc2VTZXJ2aWNlU29ja2V0IH0gZnJvbSAnLi4vYmFzZS1zZXJ2aWNlJztcblxuXG5jb25zdCBTSU1VTEFURV9MT0NBVElPTl9TRVJWSUNFX05BTUUgPSAnY29tLmFwcGxlLmR0LnNpbXVsYXRlbG9jYXRpb24nO1xuXG5jb25zdCBSRVNFVF9NRVNTQUdFID0gQnVmZmVyLmZyb20oWzAsIDAsIDAsIDFdKTtcbmNvbnN0IFNFVF9MT0NBVElPTl9NRVNTQUdFID0gQnVmZmVyLmZyb20oWzAsIDAsIDAsIDBdKTtcblxuY2xhc3MgU2ltdWxhdGVMb2NhdGlvblNlcnZpY2UgZXh0ZW5kcyBCYXNlU2VydmljZVNvY2tldCB7XG4gIC8qKlxuICAgKiBSZXNldCB0aGUgbW9jayBsb2NhdGlvbiB0byB0aGUgcGhvbmVzIG9yaWdpbmFsIHNldHRpbmdzXG4gICAqL1xuICByZXNldExvY2F0aW9uICgpIHtcbiAgICB0aGlzLl9zb2NrZXRDbGllbnQud3JpdGUoUkVTRVRfTUVTU0FHRSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBtb2NrIGxvY2F0aW9uIG9uIHRoZSBkZXZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsYXQgVGhlIGxhdGl0dWRlIHRoYXQgd2FudHMgdG8gYmUgc2V0IG9uIHRoZSBkZXZpY2VcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsb25nIFRoZSBsb25naXR1ZGUgdGhhdCB3YW50cyB0byBiZSBzZXQgb24gdGhlIGRldmljZVxuICAgKi9cbiAgc2V0TG9jYXRpb24gKGxhdCwgbG9uZykge1xuICAgIGxhdCA9IGAke2xhdH1gO1xuICAgIGxvbmcgPSBgJHtsb25nfWA7XG5cbiAgICBjb25zdCBsYXRfbGVuZ3RoID0gQnVmZmVyLmFsbG9jKDQpO1xuICAgIGxhdF9sZW5ndGgud3JpdGVJbnQzMkJFKGxhdC5sZW5ndGgpO1xuXG4gICAgY29uc3QgbG9uZ19sZW5ndGggPSBCdWZmZXIuYWxsb2MoNCk7XG4gICAgbG9uZ19sZW5ndGgud3JpdGVJbnQzMkJFKGxvbmcubGVuZ3RoKTtcblxuICAgIHRoaXMuX3NvY2tldENsaWVudC53cml0ZShTRVRfTE9DQVRJT05fTUVTU0FHRSk7XG5cbiAgICB0aGlzLl9zb2NrZXRDbGllbnQud3JpdGUobGF0X2xlbmd0aCk7XG4gICAgdGhpcy5fc29ja2V0Q2xpZW50LndyaXRlKGxhdCk7XG5cbiAgICB0aGlzLl9zb2NrZXRDbGllbnQud3JpdGUobG9uZ19sZW5ndGgpO1xuICAgIHRoaXMuX3NvY2tldENsaWVudC53cml0ZShsb25nKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW11bGF0ZUxvY2F0aW9uU2VydmljZSwgU0lNVUxBVEVfTE9DQVRJT05fU0VSVklDRV9OQU1FIH07XG5leHBvcnQgZGVmYXVsdCBTaW11bGF0ZUxvY2F0aW9uU2VydmljZTtcbiJdLCJmaWxlIjoibGliL3NpbXVsYXRlbG9jYXRpb24vaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
