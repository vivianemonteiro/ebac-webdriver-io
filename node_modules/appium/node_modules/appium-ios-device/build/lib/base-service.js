"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BaseServicePlist = exports.BaseServiceSocket = void 0;

require("source-map-support/register");

class BaseServiceSocket {
  constructor(socketClient) {
    this._socketClient = socketClient;
  }

  _assignClientFailureHandlers(...sourceStreams) {
    for (const evt in ['close', 'end']) {
      this._socketClient.once(evt, () => sourceStreams.map(s => s.unpipe(this._socketClient)));
    }
  }

  close() {
    if (!this._socketClient.destroyed) {
      this._socketClient.end();
    }
  }

}

exports.BaseServiceSocket = BaseServiceSocket;

class BaseServicePlist {
  constructor(plistService) {
    this._plistService = plistService;
  }

  close() {
    this._plistService.close();
  }

}

exports.BaseServicePlist = BaseServicePlist;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9iYXNlLXNlcnZpY2UuanMiXSwibmFtZXMiOlsiQmFzZVNlcnZpY2VTb2NrZXQiLCJjb25zdHJ1Y3RvciIsInNvY2tldENsaWVudCIsIl9zb2NrZXRDbGllbnQiLCJfYXNzaWduQ2xpZW50RmFpbHVyZUhhbmRsZXJzIiwic291cmNlU3RyZWFtcyIsImV2dCIsIm9uY2UiLCJtYXAiLCJzIiwidW5waXBlIiwiY2xvc2UiLCJkZXN0cm95ZWQiLCJlbmQiLCJCYXNlU2VydmljZVBsaXN0IiwicGxpc3RTZXJ2aWNlIiwiX3BsaXN0U2VydmljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsTUFBTUEsaUJBQU4sQ0FBd0I7QUFDdEJDLEVBQUFBLFdBQVcsQ0FBRUMsWUFBRixFQUFnQjtBQUN6QixTQUFLQyxhQUFMLEdBQXFCRCxZQUFyQjtBQUNEOztBQUVERSxFQUFBQSw0QkFBNEIsQ0FBRSxHQUFHQyxhQUFMLEVBQW9CO0FBQzlDLFNBQUssTUFBTUMsR0FBWCxJQUFrQixDQUFDLE9BQUQsRUFBVSxLQUFWLENBQWxCLEVBQW9DO0FBQ2xDLFdBQUtILGFBQUwsQ0FBbUJJLElBQW5CLENBQXdCRCxHQUF4QixFQUNFLE1BQU1ELGFBQWEsQ0FBQ0csR0FBZCxDQUFtQkMsQ0FBRCxJQUFPQSxDQUFDLENBQUNDLE1BQUYsQ0FBUyxLQUFLUCxhQUFkLENBQXpCLENBRFI7QUFFRDtBQUNGOztBQUtEUSxFQUFBQSxLQUFLLEdBQUk7QUFDUCxRQUFJLENBQUMsS0FBS1IsYUFBTCxDQUFtQlMsU0FBeEIsRUFBbUM7QUFDakMsV0FBS1QsYUFBTCxDQUFtQlUsR0FBbkI7QUFDRDtBQUNGOztBQW5CcUI7Ozs7QUFzQnhCLE1BQU1DLGdCQUFOLENBQXVCO0FBQ3JCYixFQUFBQSxXQUFXLENBQUVjLFlBQUYsRUFBZ0I7QUFDekIsU0FBS0MsYUFBTCxHQUFxQkQsWUFBckI7QUFDRDs7QUFLREosRUFBQUEsS0FBSyxHQUFJO0FBQ1AsU0FBS0ssYUFBTCxDQUFtQkwsS0FBbkI7QUFDRDs7QUFWb0IiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBCYXNlU2VydmljZVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yIChzb2NrZXRDbGllbnQpIHtcbiAgICB0aGlzLl9zb2NrZXRDbGllbnQgPSBzb2NrZXRDbGllbnQ7XG4gIH1cblxuICBfYXNzaWduQ2xpZW50RmFpbHVyZUhhbmRsZXJzICguLi5zb3VyY2VTdHJlYW1zKSB7XG4gICAgZm9yIChjb25zdCBldnQgaW4gWydjbG9zZScsICdlbmQnXSkge1xuICAgICAgdGhpcy5fc29ja2V0Q2xpZW50Lm9uY2UoZXZ0LFxuICAgICAgICAoKSA9PiBzb3VyY2VTdHJlYW1zLm1hcCgocykgPT4gcy51bnBpcGUodGhpcy5fc29ja2V0Q2xpZW50KSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHVuZGVybHlpbmcgc29ja2V0IGNvbW11bmljYXRpbmcgd2l0aCB0aGUgcGhvbmVcbiAgICovXG4gIGNsb3NlICgpIHtcbiAgICBpZiAoIXRoaXMuX3NvY2tldENsaWVudC5kZXN0cm95ZWQpIHtcbiAgICAgIHRoaXMuX3NvY2tldENsaWVudC5lbmQoKTtcbiAgICB9XG4gIH1cbn1cblxuY2xhc3MgQmFzZVNlcnZpY2VQbGlzdCB7XG4gIGNvbnN0cnVjdG9yIChwbGlzdFNlcnZpY2UpIHtcbiAgICB0aGlzLl9wbGlzdFNlcnZpY2UgPSBwbGlzdFNlcnZpY2U7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSB1bmRlcmx5aW5nIHNvY2tldCBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHBob25lXG4gICAqL1xuICBjbG9zZSAoKSB7XG4gICAgdGhpcy5fcGxpc3RTZXJ2aWNlLmNsb3NlKCk7XG4gIH1cbn1cblxuXG5leHBvcnQgeyBCYXNlU2VydmljZVNvY2tldCwgQmFzZVNlcnZpY2VQbGlzdCB9O1xuIl0sImZpbGUiOiJsaWIvYmFzZS1zZXJ2aWNlLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
