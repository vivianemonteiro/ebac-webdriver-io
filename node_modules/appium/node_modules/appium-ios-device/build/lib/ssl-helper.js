"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.upgradeToSSL = upgradeToSSL;

require("source-map-support/register");

var _tls = _interopRequireDefault(require("tls"));

const TLS_VERSION = 'TLSv1_method';

function upgradeToSSL(socket, key, cert) {
  return new _tls.default.TLSSocket(socket, {
    rejectUnauthorized: false,
    secureContext: _tls.default.createSecureContext({
      key,
      cert,
      secureProtocol: TLS_VERSION
    })
  });
}require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zc2wtaGVscGVyLmpzIl0sIm5hbWVzIjpbIlRMU19WRVJTSU9OIiwidXBncmFkZVRvU1NMIiwic29ja2V0Iiwia2V5IiwiY2VydCIsInRscyIsIlRMU1NvY2tldCIsInJlamVjdFVuYXV0aG9yaXplZCIsInNlY3VyZUNvbnRleHQiLCJjcmVhdGVTZWN1cmVDb250ZXh0Iiwic2VjdXJlUHJvdG9jb2wiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBR0EsTUFBTUEsV0FBVyxHQUFHLGNBQXBCOztBQUVBLFNBQVNDLFlBQVQsQ0FBdUJDLE1BQXZCLEVBQStCQyxHQUEvQixFQUFvQ0MsSUFBcEMsRUFBMEM7QUFDeEMsU0FBTyxJQUFJQyxhQUFJQyxTQUFSLENBQWtCSixNQUFsQixFQUEwQjtBQUMvQkssSUFBQUEsa0JBQWtCLEVBQUUsS0FEVztBQUUvQkMsSUFBQUEsYUFBYSxFQUFFSCxhQUFJSSxtQkFBSixDQUF3QjtBQUNyQ04sTUFBQUEsR0FEcUM7QUFFckNDLE1BQUFBLElBRnFDO0FBR3JDTSxNQUFBQSxjQUFjLEVBQUVWO0FBSHFCLEtBQXhCO0FBRmdCLEdBQTFCLENBQVA7QUFRRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0bHMgZnJvbSAndGxzJztcblxuXG5jb25zdCBUTFNfVkVSU0lPTiA9ICdUTFN2MV9tZXRob2QnO1xuXG5mdW5jdGlvbiB1cGdyYWRlVG9TU0wgKHNvY2tldCwga2V5LCBjZXJ0KSB7XG4gIHJldHVybiBuZXcgdGxzLlRMU1NvY2tldChzb2NrZXQsIHtcbiAgICByZWplY3RVbmF1dGhvcml6ZWQ6IGZhbHNlLFxuICAgIHNlY3VyZUNvbnRleHQ6IHRscy5jcmVhdGVTZWN1cmVDb250ZXh0KHtcbiAgICAgIGtleSxcbiAgICAgIGNlcnQsXG4gICAgICBzZWN1cmVQcm90b2NvbDogVExTX1ZFUlNJT05cbiAgICB9KVxuICB9KTtcbn1cbmV4cG9ydCB7IHVwZ3JhZGVUb1NTTCB9O1xuIl0sImZpbGUiOiJsaWIvc3NsLWhlbHBlci5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
