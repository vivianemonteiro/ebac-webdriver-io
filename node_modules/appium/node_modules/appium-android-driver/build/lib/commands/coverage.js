"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.commands = void 0;

require("source-map-support/register");

var _logger = _interopRequireDefault(require("../logger"));

const commands = {};
exports.commands = commands;

commands.endCoverage = async function endCoverage(intentToBroadcast, ecOnDevicePath) {
  try {
    await this.adb.rimraf(ecOnDevicePath);
    await this.adb.broadcastProcessEnd(intentToBroadcast, this.appProcess);
    return await this.pullFile(ecOnDevicePath);
  } catch (err) {
    _logger.default.warn(`Error ending test coverage: ${err.message}`);
  }

  return '';
};

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9jb3ZlcmFnZS5qcyJdLCJuYW1lcyI6WyJjb21tYW5kcyIsImVuZENvdmVyYWdlIiwiaW50ZW50VG9Ccm9hZGNhc3QiLCJlY09uRGV2aWNlUGF0aCIsImFkYiIsInJpbXJhZiIsImJyb2FkY2FzdFByb2Nlc3NFbmQiLCJhcHBQcm9jZXNzIiwicHVsbEZpbGUiLCJlcnIiLCJsb2ciLCJ3YXJuIiwibWVzc2FnZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFHQSxNQUFNQSxRQUFRLEdBQUcsRUFBakI7OztBQUdBQSxRQUFRLENBQUNDLFdBQVQsR0FBdUIsZUFBZUEsV0FBZixDQUE0QkMsaUJBQTVCLEVBQStDQyxjQUEvQyxFQUErRDtBQUNwRixNQUFJO0FBRUYsVUFBTSxLQUFLQyxHQUFMLENBQVNDLE1BQVQsQ0FBZ0JGLGNBQWhCLENBQU47QUFDQSxVQUFNLEtBQUtDLEdBQUwsQ0FBU0UsbUJBQVQsQ0FBNkJKLGlCQUE3QixFQUFnRCxLQUFLSyxVQUFyRCxDQUFOO0FBQ0EsV0FBTyxNQUFNLEtBQUtDLFFBQUwsQ0FBY0wsY0FBZCxDQUFiO0FBQ0QsR0FMRCxDQUtFLE9BQU9NLEdBQVAsRUFBWTtBQUNaQyxvQkFBSUMsSUFBSixDQUFVLCtCQUE4QkYsR0FBRyxDQUFDRyxPQUFRLEVBQXBEO0FBQ0Q7O0FBQ0QsU0FBTyxFQUFQO0FBQ0QsQ0FWRDs7ZUFjZVosUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2cgZnJvbSAnLi4vbG9nZ2VyJztcblxuXG5jb25zdCBjb21tYW5kcyA9IHt9O1xuXG5cbmNvbW1hbmRzLmVuZENvdmVyYWdlID0gYXN5bmMgZnVuY3Rpb24gZW5kQ292ZXJhZ2UgKGludGVudFRvQnJvYWRjYXN0LCBlY09uRGV2aWNlUGF0aCkge1xuICB0cnkge1xuICAgIC8vIGVuc3VyZSB0aGUgZWMgd2UncmUgcHVsbGluZyBpcyBuZXdseSBjcmVhdGVkIGFzIGEgcmVzdWx0IG9mIHRoZSBpbnRlbnQuXG4gICAgYXdhaXQgdGhpcy5hZGIucmltcmFmKGVjT25EZXZpY2VQYXRoKTtcbiAgICBhd2FpdCB0aGlzLmFkYi5icm9hZGNhc3RQcm9jZXNzRW5kKGludGVudFRvQnJvYWRjYXN0LCB0aGlzLmFwcFByb2Nlc3MpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnB1bGxGaWxlKGVjT25EZXZpY2VQYXRoKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nLndhcm4oYEVycm9yIGVuZGluZyB0ZXN0IGNvdmVyYWdlOiAke2Vyci5tZXNzYWdlfWApO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cblxuZXhwb3J0IHsgY29tbWFuZHMgfTtcbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvY292ZXJhZ2UuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
