"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _lodash = _interopRequireDefault(require("lodash"));

var _chai = _interopRequireDefault(require("chai"));

var _chaiAsPromised = _interopRequireDefault(require("chai-as-promised"));

var _bluebird = _interopRequireDefault(require("bluebird"));

var _2 = require("../..");

var _sinon = _interopRequireDefault(require("sinon"));

const should = _chai.default.should();

_chai.default.use(_chaiAsPromised.default);

function baseDriverUnitTests(DriverClass, defaultCaps = {}) {
  const w3cCaps = {
    alwaysMatch: Object.assign({}, defaultCaps, {
      platformName: 'Fake',
      deviceName: 'Commodore 64'
    }),
    firstMatch: [{}]
  };
  describe('BaseDriver', function () {
    let d;
    beforeEach(function () {
      d = new DriverClass();
    });
    afterEach(async function () {
      await d.deleteSession();
    });
    it('should return an empty status object', async function () {
      let status = await d.getStatus();
      status.should.eql({});
    });
    it('should return a sessionId from createSession', async function () {
      let [sessId] = await d.createSession(defaultCaps);
      should.exist(sessId);
      sessId.should.be.a('string');
      sessId.length.should.be.above(5);
    });
    it('should not be able to start two sessions without closing the first', async function () {
      await d.createSession(defaultCaps);
      await d.createSession(defaultCaps).should.eventually.be.rejectedWith('session');
    });
    it('should be able to delete a session', async function () {
      let sessionId1 = await d.createSession(defaultCaps);
      await d.deleteSession();
      should.equal(d.sessionId, null);
      let sessionId2 = await d.createSession(defaultCaps);
      sessionId1.should.not.eql(sessionId2);
    });
    it('should get the current session', async function () {
      let [, caps] = await d.createSession(defaultCaps);
      caps.should.equal((await d.getSession()));
    });
    it('should return sessions if no session exists', async function () {
      let sessions = await d.getSessions();
      sessions.length.should.equal(0);
    });
    it('should return sessions', async function () {
      let caps = _lodash.default.clone(defaultCaps);

      caps.a = 'cap';
      await d.createSession(caps);
      let sessions = await d.getSessions();
      sessions.length.should.equal(1);
      sessions[0].should.eql({
        id: d.sessionId,
        capabilities: caps
      });
    });
    it('should fulfill an unexpected driver quit promise', async function () {
      d.getStatus = async function () {
        await _bluebird.default.delay(1000);
        return 'good status';
      }.bind(d);

      let cmdPromise = d.executeCommand('getStatus');
      await _bluebird.default.delay(10);
      d.startUnexpectedShutdown(new Error('We crashed'));
      await cmdPromise.should.be.rejectedWith(/We crashed/);
      await d.onUnexpectedShutdown.should.be.rejectedWith(/We crashed/);
    });
    it('should not allow commands in middle of unexpected shutdown', async function () {
      d.oldDeleteSession = d.deleteSession;

      d.deleteSession = async function () {
        await _bluebird.default.delay(100);
        await this.oldDeleteSession();
      }.bind(d);

      let caps = _lodash.default.clone(defaultCaps);

      await d.createSession(caps);
      d.startUnexpectedShutdown(new Error('We crashed'));
      await d.onUnexpectedShutdown.should.be.rejectedWith(/We crashed/);
      await d.executeCommand('getSession').should.be.rejectedWith(/shut down/);
    });
    it('should allow new commands after done shutting down', async function () {
      d.oldDeleteSession = d.deleteSession;

      d.deleteSession = async function () {
        await _bluebird.default.delay(100);
        await this.oldDeleteSession();
      }.bind(d);

      let caps = _lodash.default.clone(defaultCaps);

      await d.createSession(caps);
      d.startUnexpectedShutdown(new Error('We crashed'));
      await d.onUnexpectedShutdown.should.be.rejectedWith(/We crashed/);
      await d.executeCommand('getSession').should.be.rejectedWith(/shut down/);
      await _bluebird.default.delay(500);
      await d.executeCommand('createSession', caps);
      await d.deleteSession();
    });
    it('should distinguish between W3C and JSONWP session', async function () {
      await d.executeCommand('createSession', Object.assign({}, defaultCaps, {
        platformName: 'Fake',
        deviceName: 'Commodore 64'
      }));
      d.protocol.should.equal('MJSONWP');
      await d.executeCommand('deleteSession');
      await d.executeCommand('createSession', null, null, {
        alwaysMatch: Object.assign({}, defaultCaps, {
          platformName: 'Fake',
          deviceName: 'Commodore 64'
        }),
        firstMatch: [{}]
      });
      d.protocol.should.equal('W3C');
    });
    describe('protocol detection', function () {
      it('should use MJSONWP if only JSONWP caps are provided', async function () {
        await d.createSession(defaultCaps);
        d.protocol.should.equal('MJSONWP');
      });
      it('should use W3C if only W3C caps are provided', async function () {
        await d.createSession(null, null, {
          alwaysMatch: defaultCaps,
          firstMatch: [{}]
        });
        d.protocol.should.equal('W3C');
      });
    });
    it('should have a method to get driver for a session', async function () {
      let [sessId] = await d.createSession(defaultCaps);
      d.driverForSession(sessId).should.eql(d);
    });
    describe('command queue', function () {
      let d = new DriverClass();
      let waitMs = 10;

      d.getStatus = async function () {
        await _bluebird.default.delay(waitMs);
        return Date.now();
      }.bind(d);

      d.getSessions = async function () {
        await _bluebird.default.delay(waitMs);
        throw new Error('multipass');
      }.bind(d);

      afterEach(function () {
        d.clearNewCommandTimeout();
      });
      it('should queue commands and.executeCommand/respond in the order received', async function () {
        let numCmds = 10;
        let cmds = [];

        for (let i = 0; i < numCmds; i++) {
          cmds.push(d.executeCommand('getStatus'));
        }

        let results = await _bluebird.default.all(cmds);

        for (let i = 1; i < numCmds; i++) {
          if (results[i] <= results[i - 1]) {
            throw new Error('Got result out of order');
          }
        }
      });
      it('should handle errors correctly when queuing', async function () {
        let numCmds = 10;
        let cmds = [];

        for (let i = 0; i < numCmds; i++) {
          if (i === 5) {
            cmds.push(d.executeCommand('getSessions'));
          } else {
            cmds.push(d.executeCommand('getStatus'));
          }
        }

        let results = await _bluebird.default.settle(cmds);

        for (let i = 1; i < 5; i++) {
          if (results[i].value() <= results[i - 1].value()) {
            throw new Error('Got result out of order');
          }
        }

        results[5].reason().message.should.contain('multipass');

        for (let i = 7; i < numCmds; i++) {
          if (results[i].value() <= results[i - 1].value()) {
            throw new Error('Got result out of order');
          }
        }
      });
      it('should not care if queue empties for a bit', async function () {
        let numCmds = 10;
        let cmds = [];

        for (let i = 0; i < numCmds; i++) {
          cmds.push(d.executeCommand('getStatus'));
        }

        let results = await _bluebird.default.all(cmds);
        cmds = [];

        for (let i = 0; i < numCmds; i++) {
          cmds.push(d.executeCommand('getStatus'));
        }

        results = await _bluebird.default.all(cmds);

        for (let i = 1; i < numCmds; i++) {
          if (results[i] <= results[i - 1]) {
            throw new Error('Got result out of order');
          }
        }
      });
    });
    describe('timeouts', function () {
      before(async function () {
        await d.createSession(defaultCaps);
      });
      describe('command', function () {
        it('should exist by default', function () {
          d.newCommandTimeoutMs.should.equal(60000);
        });
        it('should be settable through `timeouts`', async function () {
          await d.timeouts('command', 20);
          d.newCommandTimeoutMs.should.equal(20);
        });
      });
      describe('implicit', function () {
        it('should not exist by default', function () {
          d.implicitWaitMs.should.equal(0);
        });
        it('should be settable through `timeouts`', async function () {
          await d.timeouts('implicit', 20);
          d.implicitWaitMs.should.equal(20);
        });
      });
    });
    describe('timeouts (W3C)', function () {
      beforeEach(async function () {
        await d.createSession(null, null, w3cCaps);
      });
      afterEach(async function () {
        await d.deleteSession();
      });
      it('should get timeouts that we set', async function () {
        await d.timeouts(undefined, undefined, undefined, undefined, 1000);
        await d.getTimeouts().should.eventually.have.property('implicit', 1000);
        await d.timeouts('command', 2000);
        await d.getTimeouts().should.eventually.deep.equal({
          implicit: 1000,
          command: 2000
        });
        await d.timeouts(undefined, undefined, undefined, undefined, 3000);
        await d.getTimeouts().should.eventually.deep.equal({
          implicit: 3000,
          command: 2000
        });
      });
    });
    describe('reset compatibility', function () {
      it('should not allow both fullReset and noReset to be true', async function () {
        let newCaps = Object.assign({}, defaultCaps, {
          fullReset: true,
          noReset: true
        });
        await d.createSession(newCaps).should.eventually.be.rejectedWith(/noReset.+fullReset/);
      });
    });
    describe('proxying', function () {
      let sessId;
      beforeEach(async function () {
        [sessId] = await d.createSession(defaultCaps);
      });
      describe('#proxyActive', function () {
        it('should exist', function () {
          d.proxyActive.should.be.an.instanceof(Function);
        });
        it('should return false', function () {
          d.proxyActive(sessId).should.be.false;
        });
        it('should throw an error when sessionId is wrong', function () {
          (() => {
            d.proxyActive('aaa');
          }).should.throw;
        });
      });
      describe('#getProxyAvoidList', function () {
        it('should exist', function () {
          d.getProxyAvoidList.should.be.an.instanceof(Function);
        });
        it('should return an array', function () {
          d.getProxyAvoidList(sessId).should.be.an.instanceof(Array);
        });
        it('should throw an error when sessionId is wrong', function () {
          (() => {
            d.getProxyAvoidList('aaa');
          }).should.throw;
        });
      });
      describe('#canProxy', function () {
        it('should have a #canProxy method', function () {
          d.canProxy.should.be.an.instanceof(Function);
        });
        it('should return false from #canProxy', function () {
          d.canProxy(sessId).should.be.false;
        });
        it('should throw an error when sessionId is wrong', function () {
          (() => {
            d.canProxy();
          }).should.throw;
        });
      });
      describe('#proxyRouteIsAvoided', function () {
        it('should validate form of avoidance list', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /\/foo/], ['GET']]);
          (() => {
            d.proxyRouteIsAvoided();
          }).should.throw;
          avoidStub.returns([['POST', /\/foo/], ['GET', /^foo/, 'bar']]);
          (() => {
            d.proxyRouteIsAvoided();
          }).should.throw;
          avoidStub.restore();
        });
        it('should reject bad http methods', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /^foo/], ['BAZETE', /^bar/]]);
          (() => {
            d.proxyRouteIsAvoided();
          }).should.throw;
          avoidStub.restore();
        });
        it('should reject non-regex routes', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /^foo/], ['GET', '/bar']]);
          (() => {
            d.proxyRouteIsAvoided();
          }).should.throw;
          avoidStub.restore();
        });
        it('should return true for routes in the avoid list', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /^\/foo/]]);
          d.proxyRouteIsAvoided(null, 'POST', '/foo/bar').should.be.true;
          avoidStub.restore();
        });
        it('should strip away any wd/hub prefix', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /^\/foo/]]);
          d.proxyRouteIsAvoided(null, 'POST', '/wd/hub/foo/bar').should.be.true;
          avoidStub.restore();
        });
        it('should return false for routes not in the avoid list', function () {
          const avoidStub = _sinon.default.stub(d, 'getProxyAvoidList');

          avoidStub.returns([['POST', /^\/foo/]]);
          d.proxyRouteIsAvoided(null, 'GET', '/foo/bar').should.be.false;
          d.proxyRouteIsAvoided(null, 'POST', '/boo').should.be.false;
          avoidStub.restore();
        });
      });
    });
    describe('event timing framework', function () {
      let beforeStartTime;
      beforeEach(async function () {
        beforeStartTime = Date.now();
        d.shouldValidateCaps = false;
        await d.executeCommand('createSession', defaultCaps);
      });
      describe('#eventHistory', function () {
        it('should have an eventHistory property', function () {
          should.exist(d.eventHistory);
          should.exist(d.eventHistory.commands);
        });
        it('should have a session start timing after session start', function () {
          let {
            newSessionRequested,
            newSessionStarted
          } = d.eventHistory;
          newSessionRequested.should.have.length(1);
          newSessionStarted.should.have.length(1);
          newSessionRequested[0].should.be.a('number');
          newSessionStarted[0].should.be.a('number');
          (newSessionRequested[0] >= beforeStartTime).should.be.true;
          (newSessionStarted[0] >= newSessionRequested[0]).should.be.true;
        });
        it('should include a commands list', async function () {
          await d.executeCommand('getStatus', []);
          d.eventHistory.commands.length.should.equal(2);
          d.eventHistory.commands[1].cmd.should.equal('getStatus');
          d.eventHistory.commands[1].startTime.should.be.a('number');
          d.eventHistory.commands[1].endTime.should.be.a('number');
        });
      });
      describe('#logEvent', function () {
        it('should allow logging arbitrary events', function () {
          d.logEvent('foo');
          d.eventHistory.foo[0].should.be.a('number');
          (d.eventHistory.foo[0] >= beforeStartTime).should.be.true;
        });
        it('should not allow reserved or oddly formed event names', function () {
          (() => {
            d.logEvent('commands');
          }).should.throw();
          (() => {
            d.logEvent(1);
          }).should.throw();
          (() => {
            d.logEvent({});
          }).should.throw();
        });
      });
      it('should allow logging the same event multiple times', function () {
        d.logEvent('bar');
        d.logEvent('bar');
        d.eventHistory.bar.should.have.length(2);
        d.eventHistory.bar[1].should.be.a('number');
        (d.eventHistory.bar[1] >= d.eventHistory.bar[0]).should.be.true;
      });
      describe('getSession decoration', function () {
        it('should decorate getSession response if opt-in cap is provided', async function () {
          let res = await d.getSession();
          should.not.exist(res.events);
          d.caps.eventTimings = true;
          res = await d.getSession();
          should.exist(res.events);
          should.exist(res.events.newSessionRequested);
          res.events.newSessionRequested[0].should.be.a('number');
        });
      });
    });
    describe('.reset', function () {
      it('should reset as W3C if the original session was W3C', async function () {
        const caps = {
          alwaysMatch: Object.assign({}, {
            app: 'Fake',
            deviceName: 'Fake',
            automationName: 'Fake',
            platformName: 'Fake'
          }, defaultCaps),
          firstMatch: [{}]
        };
        await d.createSession(undefined, undefined, caps);
        d.protocol.should.equal('W3C');
        await d.reset();
        d.protocol.should.equal('W3C');
      });
      it('should reset as MJSONWP if the original session was MJSONWP', async function () {
        const caps = Object.assign({}, {
          app: 'Fake',
          deviceName: 'Fake',
          automationName: 'Fake',
          platformName: 'Fake'
        }, defaultCaps);
        await d.createSession(caps);
        d.protocol.should.equal('MJSONWP');
        await d.reset();
        d.protocol.should.equal('MJSONWP');
      });
    });
  });
  describe('DeviceSettings', function () {
    it('should not hold on to reference of defaults in constructor', function () {
      let obj = {
        foo: 'bar'
      };
      let d1 = new _2.DeviceSettings(obj);
      let d2 = new _2.DeviceSettings(obj);
      d1._settings.foo = 'baz';

      d1._settings.should.not.eql(d2._settings);
    });
  });
  describe('.isFeatureEnabled', function () {
    const d = new DriverClass();
    afterEach(function () {
      d.denyInsecure = null;
      d.allowInsecure = null;
      d.relaxedSecurityEnabled = null;
    });
    it('should say a feature is enabled when it is explicitly allowed', function () {
      d.allowInsecure = ['foo', 'bar'];
      d.isFeatureEnabled('foo').should.be.true;
      d.isFeatureEnabled('bar').should.be.true;
      d.isFeatureEnabled('baz').should.be.false;
    });
    it('should say a feature is not enabled if it is not enabled', function () {
      d.allowInsecure = [];
      d.isFeatureEnabled('foo').should.be.false;
    });
    it('should prefer denyInsecure to allowInsecure', function () {
      d.allowInsecure = ['foo', 'bar'];
      d.denyInsecure = ['foo'];
      d.isFeatureEnabled('foo').should.be.false;
      d.isFeatureEnabled('bar').should.be.true;
      d.isFeatureEnabled('baz').should.be.false;
    });
    it('should allow global setting for insecurity', function () {
      d.relaxedSecurityEnabled = true;
      d.isFeatureEnabled('foo').should.be.true;
      d.isFeatureEnabled('bar').should.be.true;
      d.isFeatureEnabled('baz').should.be.true;
    });
    it('global setting should be overrideable', function () {
      d.relaxedSecurityEnabled = true;
      d.denyInsecure = ['foo', 'bar'];
      d.isFeatureEnabled('foo').should.be.false;
      d.isFeatureEnabled('bar').should.be.false;
      d.isFeatureEnabled('baz').should.be.true;
    });
  });
}

var _default = baseDriverUnitTests;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QvYmFzZWRyaXZlci9kcml2ZXItdGVzdHMuanMiXSwibmFtZXMiOlsic2hvdWxkIiwiY2hhaSIsInVzZSIsImNoYWlBc1Byb21pc2VkIiwiYmFzZURyaXZlclVuaXRUZXN0cyIsIkRyaXZlckNsYXNzIiwiZGVmYXVsdENhcHMiLCJ3M2NDYXBzIiwiYWx3YXlzTWF0Y2giLCJPYmplY3QiLCJhc3NpZ24iLCJwbGF0Zm9ybU5hbWUiLCJkZXZpY2VOYW1lIiwiZmlyc3RNYXRjaCIsImRlc2NyaWJlIiwiZCIsImJlZm9yZUVhY2giLCJhZnRlckVhY2giLCJkZWxldGVTZXNzaW9uIiwiaXQiLCJzdGF0dXMiLCJnZXRTdGF0dXMiLCJlcWwiLCJzZXNzSWQiLCJjcmVhdGVTZXNzaW9uIiwiZXhpc3QiLCJiZSIsImEiLCJsZW5ndGgiLCJhYm92ZSIsImV2ZW50dWFsbHkiLCJyZWplY3RlZFdpdGgiLCJzZXNzaW9uSWQxIiwiZXF1YWwiLCJzZXNzaW9uSWQiLCJzZXNzaW9uSWQyIiwibm90IiwiY2FwcyIsImdldFNlc3Npb24iLCJzZXNzaW9ucyIsImdldFNlc3Npb25zIiwiXyIsImNsb25lIiwiaWQiLCJjYXBhYmlsaXRpZXMiLCJCIiwiZGVsYXkiLCJiaW5kIiwiY21kUHJvbWlzZSIsImV4ZWN1dGVDb21tYW5kIiwic3RhcnRVbmV4cGVjdGVkU2h1dGRvd24iLCJFcnJvciIsIm9uVW5leHBlY3RlZFNodXRkb3duIiwib2xkRGVsZXRlU2Vzc2lvbiIsInByb3RvY29sIiwiZHJpdmVyRm9yU2Vzc2lvbiIsIndhaXRNcyIsIkRhdGUiLCJub3ciLCJjbGVhck5ld0NvbW1hbmRUaW1lb3V0IiwibnVtQ21kcyIsImNtZHMiLCJpIiwicHVzaCIsInJlc3VsdHMiLCJhbGwiLCJzZXR0bGUiLCJ2YWx1ZSIsInJlYXNvbiIsIm1lc3NhZ2UiLCJjb250YWluIiwiYmVmb3JlIiwibmV3Q29tbWFuZFRpbWVvdXRNcyIsInRpbWVvdXRzIiwiaW1wbGljaXRXYWl0TXMiLCJ1bmRlZmluZWQiLCJnZXRUaW1lb3V0cyIsImhhdmUiLCJwcm9wZXJ0eSIsImRlZXAiLCJpbXBsaWNpdCIsImNvbW1hbmQiLCJuZXdDYXBzIiwiZnVsbFJlc2V0Iiwibm9SZXNldCIsInByb3h5QWN0aXZlIiwiYW4iLCJpbnN0YW5jZW9mIiwiRnVuY3Rpb24iLCJmYWxzZSIsInRocm93IiwiZ2V0UHJveHlBdm9pZExpc3QiLCJBcnJheSIsImNhblByb3h5IiwiYXZvaWRTdHViIiwic2lub24iLCJzdHViIiwicmV0dXJucyIsInByb3h5Um91dGVJc0F2b2lkZWQiLCJyZXN0b3JlIiwidHJ1ZSIsImJlZm9yZVN0YXJ0VGltZSIsInNob3VsZFZhbGlkYXRlQ2FwcyIsImV2ZW50SGlzdG9yeSIsImNvbW1hbmRzIiwibmV3U2Vzc2lvblJlcXVlc3RlZCIsIm5ld1Nlc3Npb25TdGFydGVkIiwiY21kIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImxvZ0V2ZW50IiwiZm9vIiwiYmFyIiwicmVzIiwiZXZlbnRzIiwiZXZlbnRUaW1pbmdzIiwiYXBwIiwiYXV0b21hdGlvbk5hbWUiLCJyZXNldCIsIm9iaiIsImQxIiwiRGV2aWNlU2V0dGluZ3MiLCJkMiIsIl9zZXR0aW5ncyIsImRlbnlJbnNlY3VyZSIsImFsbG93SW5zZWN1cmUiLCJyZWxheGVkU2VjdXJpdHlFbmFibGVkIiwiaXNGZWF0dXJlRW5hYmxlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLGNBQUtELE1BQUwsRUFBZjs7QUFDQUMsY0FBS0MsR0FBTCxDQUFTQyx1QkFBVDs7QUFJQSxTQUFTQyxtQkFBVCxDQUE4QkMsV0FBOUIsRUFBMkNDLFdBQVcsR0FBRyxFQUF6RCxFQUE2RDtBQUMzRCxRQUFNQyxPQUFPLEdBQUc7QUFDZEMsSUFBQUEsV0FBVyxFQUFFQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCSixXQUFsQixFQUErQjtBQUMxQ0ssTUFB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Qyw0Q0FBRCxFQUErQyxZQUFZO0FBQzNESixNQUFBQSxDQUFDLENBQUMrRyxzQkFBRixHQUEyQixJQUEzQjtBQUNBL0csTUFBQUEsQ0FBQyxDQUFDZ0gsZ0JBQUYsQ0FBbUIsS0FBbkIsRUFBMEIvSCxNQUExQixDQUFpQzBCLEVBQWpDLENBQW9DMEUsSUFBcEM7QUFDQXJGLE1BQUFBLENBQUMsQ0FBQ2dILGdCQUFGLENBQW1CLEtBQW5CLEVBQTBCL0gsTUFBMUIsQ0FBaUMwQixFQUFqQyxDQUFvQzBFLElBQXBDO0FBQ0FyRixNQUFBQSxDQUFDLENBQUNnSCxnQkFBRixDQUFtQixLQUFuQixFQUEwQi9ILE1BQTFCLENBQWlDMEIsRUFBakMsQ0FBb0MwRSxJQUFwQztBQUNELEtBTEMsQ0FBRjtBQU9BakYsSUFBQUEsRUFBRSxDQUFDLHVDQUFELEVBQTBDLFlBQVk7QUFDdERKLE1BQUFBLENBQUMsQ0FBQytHLHNCQUFGLEdBQTJCLElBQTNCO0FBQ0EvRyxNQUFBQSxDQUFDLENBQUM2RyxZQUFGLEdBQWlCLENBQUMsS0FBRCxFQUFRLEtBQVIsQ0FBakI7QUFDQTdHLE1BQUFBLENBQUMsQ0FBQ2dILGdCQUFGLENBQW1CLEtBQW5CLEVBQTBCL0gsTUFBMUIsQ0FBaUMwQixFQUFqQyxDQUFvQytELEtBQXBDO0FBQ0ExRSxNQUFBQSxDQUFDLENBQUNnSCxnQkFBRixDQUFtQixLQUFuQixFQUEwQi9ILE1BQTFCLENBQWlDMEIsRUFBakMsQ0FBb0MrRCxLQUFwQztBQUNBMUUsTUFBQUEsQ0FBQyxDQUFDZ0gsZ0JBQUYsQ0FBbUIsS0FBbkIsRUFBMEIvSCxNQUExQixDQUFpQzBCLEVBQWpDLENBQW9DMEUsSUFBcEM7QUFDRCxLQU5DLENBQUY7QUFPRCxHQTNDTyxDQUFSO0FBNENEOztlQUVjaEcsbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IGNoYWkgZnJvbSAnY2hhaSc7XG5pbXBvcnQgY2hhaUFzUHJvbWlzZWQgZnJvbSAnY2hhaS1hcy1wcm9taXNlZCc7XG5pbXBvcnQgQiBmcm9tICdibHVlYmlyZCc7XG5pbXBvcnQgeyBEZXZpY2VTZXR0aW5ncyB9IGZyb20gJy4uLy4uJztcbmltcG9ydCBzaW5vbiBmcm9tICdzaW5vbic7XG5cblxuY29uc3Qgc2hvdWxkID0gY2hhaS5zaG91bGQoKTtcbmNoYWkudXNlKGNoYWlBc1Byb21pc2VkKTtcblxuLy8gd3JhcCB0aGVzZSB0ZXN0cyBpbiBhIGZ1bmN0aW9uIHNvIHdlIGNhbiBleHBvcnQgdGhlIHRlc3RzIGFuZCByZS11c2UgdGhlbVxuLy8gZm9yIGFjdHVhbCBkcml2ZXIgaW1wbGVtZW50YXRpb25zXG5mdW5jdGlvbiBiYXNlRHJpdmVyVW5pdFRlc3RzIChEcml2ZXJDbGFzcywgZGVmYXVsdENhcHMgPSB7fSkge1xuICBjb25zdCB3M2NDYXBzID0ge1xuICAgIGFsd2F5c01hdGNoOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q2Fwcywge1xuICAgICAgcGxhdGZvcm1OYW1lOiAnRmFrZScsXG4gICAgICBkZXZpY2VOYW1lOiAnQ29tbW9kb3JlIDY0JyxcbiAgICB9KSxcbiAgICBmaXJzdE1hdGNoOiBbe31dLFxuICB9O1xuXG4gIGRlc2NyaWJlKCdCYXNlRHJpdmVyJywgZnVuY3Rpb24gKCkge1xuICAgIGxldCBkO1xuICAgIGJlZm9yZUVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgZCA9IG5ldyBEcml2ZXJDbGFzcygpO1xuICAgIH0pO1xuICAgIGFmdGVyRWFjaChhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBhd2FpdCBkLmRlbGV0ZVNlc3Npb24oKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFuIGVtcHR5IHN0YXR1cyBvYmplY3QnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgc3RhdHVzID0gYXdhaXQgZC5nZXRTdGF0dXMoKTtcbiAgICAgIHN0YXR1cy5zaG91bGQuZXFsKHt9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGEgc2Vzc2lvbklkIGZyb20gY3JlYXRlU2Vzc2lvbicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBbc2Vzc0lkXSA9IGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihkZWZhdWx0Q2Fwcyk7XG4gICAgICBzaG91bGQuZXhpc3Qoc2Vzc0lkKTtcbiAgICAgIHNlc3NJZC5zaG91bGQuYmUuYSgnc3RyaW5nJyk7XG4gICAgICBzZXNzSWQubGVuZ3RoLnNob3VsZC5iZS5hYm92ZSg1KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGJlIGFibGUgdG8gc3RhcnQgdHdvIHNlc3Npb25zIHdpdGhvdXQgY2xvc2luZyB0aGUgZmlyc3QnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oZGVmYXVsdENhcHMpO1xuICAgICAgYXdhaXQgZC5jcmVhdGVTZXNzaW9uKGRlZmF1bHRDYXBzKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoJ3Nlc3Npb24nKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYmUgYWJsZSB0byBkZWxldGUgYSBzZXNzaW9uJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IHNlc3Npb25JZDEgPSBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oZGVmYXVsdENhcHMpO1xuICAgICAgYXdhaXQgZC5kZWxldGVTZXNzaW9uKCk7XG4gICAgICBzaG91bGQuZXF1YWwoZC5zZXNzaW9uSWQsIG51bGwpO1xuICAgICAgbGV0IHNlc3Npb25JZDIgPSBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oZGVmYXVsdENhcHMpO1xuICAgICAgc2Vzc2lvbklkMS5zaG91bGQubm90LmVxbChzZXNzaW9uSWQyKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZ2V0IHRoZSBjdXJyZW50IHNlc3Npb24nLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgWywgY2Fwc10gPSBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oZGVmYXVsdENhcHMpO1xuICAgICAgY2Fwcy5zaG91bGQuZXF1YWwoYXdhaXQgZC5nZXRTZXNzaW9uKCkpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc2Vzc2lvbnMgaWYgbm8gc2Vzc2lvbiBleGlzdHMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgc2Vzc2lvbnMgPSBhd2FpdCBkLmdldFNlc3Npb25zKCk7XG4gICAgICBzZXNzaW9ucy5sZW5ndGguc2hvdWxkLmVxdWFsKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc2Vzc2lvbnMnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgY2FwcyA9IF8uY2xvbmUoZGVmYXVsdENhcHMpO1xuICAgICAgY2Fwcy5hID0gJ2NhcCc7XG4gICAgICBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oY2Fwcyk7XG4gICAgICBsZXQgc2Vzc2lvbnMgPSBhd2FpdCBkLmdldFNlc3Npb25zKCk7XG5cbiAgICAgIHNlc3Npb25zLmxlbmd0aC5zaG91bGQuZXF1YWwoMSk7XG4gICAgICBzZXNzaW9uc1swXS5zaG91bGQuZXFsKHtcbiAgICAgICAgaWQ6IGQuc2Vzc2lvbklkLFxuICAgICAgICBjYXBhYmlsaXRpZXM6IGNhcHNcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmdWxmaWxsIGFuIHVuZXhwZWN0ZWQgZHJpdmVyIHF1aXQgcHJvbWlzZScsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG1ha2UgYSBjb21tYW5kIHRoYXQgd2lsbCB3YWl0IGEgYml0IHNvIHdlIGNhbiBjcmFzaCB3aGlsZSBpdCdzIHJ1bm5pbmdcbiAgICAgIGQuZ2V0U3RhdHVzID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBCLmRlbGF5KDEwMDApO1xuICAgICAgICByZXR1cm4gJ2dvb2Qgc3RhdHVzJztcbiAgICAgIH0uYmluZChkKTtcbiAgICAgIGxldCBjbWRQcm9taXNlID0gZC5leGVjdXRlQ29tbWFuZCgnZ2V0U3RhdHVzJyk7XG4gICAgICBhd2FpdCBCLmRlbGF5KDEwKTtcbiAgICAgIGQuc3RhcnRVbmV4cGVjdGVkU2h1dGRvd24obmV3IEVycm9yKCdXZSBjcmFzaGVkJykpO1xuICAgICAgYXdhaXQgY21kUHJvbWlzZS5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9XZSBjcmFzaGVkLyk7XG4gICAgICBhd2FpdCBkLm9uVW5leHBlY3RlZFNodXRkb3duLnNob3VsZC5iZS5yZWplY3RlZFdpdGgoL1dlIGNyYXNoZWQvKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGFsbG93IGNvbW1hbmRzIGluIG1pZGRsZSBvZiB1bmV4cGVjdGVkIHNodXRkb3duJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbWFrZSBhIGNvbW1hbmQgdGhhdCB3aWxsIHdhaXQgYSBiaXQgc28gd2UgY2FuIGNyYXNoIHdoaWxlIGl0J3MgcnVubmluZ1xuICAgICAgZC5vbGREZWxldGVTZXNzaW9uID0gZC5kZWxldGVTZXNzaW9uO1xuICAgICAgZC5kZWxldGVTZXNzaW9uID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBCLmRlbGF5KDEwMCk7XG4gICAgICAgIGF3YWl0IHRoaXMub2xkRGVsZXRlU2Vzc2lvbigpO1xuICAgICAgfS5iaW5kKGQpO1xuICAgICAgbGV0IGNhcHMgPSBfLmNsb25lKGRlZmF1bHRDYXBzKTtcbiAgICAgIGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihjYXBzKTtcbiAgICAgIGQuc3RhcnRVbmV4cGVjdGVkU2h1dGRvd24obmV3IEVycm9yKCdXZSBjcmFzaGVkJykpO1xuICAgICAgYXdhaXQgZC5vblVuZXhwZWN0ZWRTaHV0ZG93bi5zaG91bGQuYmUucmVqZWN0ZWRXaXRoKC9XZSBjcmFzaGVkLyk7XG4gICAgICBhd2FpdCBkLmV4ZWN1dGVDb21tYW5kKCdnZXRTZXNzaW9uJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvc2h1dCBkb3duLyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IG5ldyBjb21tYW5kcyBhZnRlciBkb25lIHNodXR0aW5nIGRvd24nLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBtYWtlIGEgY29tbWFuZCB0aGF0IHdpbGwgd2FpdCBhIGJpdCBzbyB3ZSBjYW4gY3Jhc2ggd2hpbGUgaXQncyBydW5uaW5nXG4gICAgICBkLm9sZERlbGV0ZVNlc3Npb24gPSBkLmRlbGV0ZVNlc3Npb247XG4gICAgICBkLmRlbGV0ZVNlc3Npb24gPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IEIuZGVsYXkoMTAwKTtcbiAgICAgICAgYXdhaXQgdGhpcy5vbGREZWxldGVTZXNzaW9uKCk7XG4gICAgICB9LmJpbmQoZCk7XG5cbiAgICAgIGxldCBjYXBzID0gXy5jbG9uZShkZWZhdWx0Q2Fwcyk7XG4gICAgICBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oY2Fwcyk7XG4gICAgICBkLnN0YXJ0VW5leHBlY3RlZFNodXRkb3duKG5ldyBFcnJvcignV2UgY3Jhc2hlZCcpKTtcbiAgICAgIGF3YWl0IGQub25VbmV4cGVjdGVkU2h1dGRvd24uc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvV2UgY3Jhc2hlZC8pO1xuXG4gICAgICBhd2FpdCBkLmV4ZWN1dGVDb21tYW5kKCdnZXRTZXNzaW9uJykuc2hvdWxkLmJlLnJlamVjdGVkV2l0aCgvc2h1dCBkb3duLyk7XG4gICAgICBhd2FpdCBCLmRlbGF5KDUwMCk7XG5cbiAgICAgIGF3YWl0IGQuZXhlY3V0ZUNvbW1hbmQoJ2NyZWF0ZVNlc3Npb24nLCBjYXBzKTtcbiAgICAgIGF3YWl0IGQuZGVsZXRlU2Vzc2lvbigpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkaXN0aW5ndWlzaCBiZXR3ZWVuIFczQyBhbmQgSlNPTldQIHNlc3Npb24nLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBUZXN0IEpTT05XUFxuICAgICAgYXdhaXQgZC5leGVjdXRlQ29tbWFuZCgnY3JlYXRlU2Vzc2lvbicsIE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDYXBzLCB7XG4gICAgICAgIHBsYXRmb3JtTmFtZTogJ0Zha2UnLFxuICAgICAgICBkZXZpY2VOYW1lOiAnQ29tbW9kb3JlIDY0JyxcbiAgICAgIH0pKTtcblxuICAgICAgZC5wcm90b2NvbC5zaG91bGQuZXF1YWwoJ01KU09OV1AnKTtcbiAgICAgIGF3YWl0IGQuZXhlY3V0ZUNvbW1hbmQoJ2RlbGV0ZVNlc3Npb24nKTtcblxuICAgICAgLy8gVGVzdCBXM0MgKGxlYXZlIGZpcnN0IDIgYXJncyBudWxsIGJlY2F1c2UgdGhvc2UgYXJlIHRoZSBKU09OV1AgYXJncylcbiAgICAgIGF3YWl0IGQuZXhlY3V0ZUNvbW1hbmQoJ2NyZWF0ZVNlc3Npb24nLCBudWxsLCBudWxsLCB7XG4gICAgICAgIGFsd2F5c01hdGNoOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q2Fwcywge1xuICAgICAgICAgIHBsYXRmb3JtTmFtZTogJ0Zha2UnLFxuICAgICAgICAgIGRldmljZU5hbWU6ICdDb21tb2RvcmUgNjQnLFxuICAgICAgICB9KSxcbiAgICAgICAgZmlyc3RNYXRjaDogW3t9XSxcbiAgICAgIH0pO1xuXG4gICAgICBkLnByb3RvY29sLnNob3VsZC5lcXVhbCgnVzNDJyk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgncHJvdG9jb2wgZGV0ZWN0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICAgaXQoJ3Nob3VsZCB1c2UgTUpTT05XUCBpZiBvbmx5IEpTT05XUCBjYXBzIGFyZSBwcm92aWRlZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgZC5jcmVhdGVTZXNzaW9uKGRlZmF1bHRDYXBzKTtcbiAgICAgICAgZC5wcm90b2NvbC5zaG91bGQuZXF1YWwoJ01KU09OV1AnKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHVzZSBXM0MgaWYgb25seSBXM0MgY2FwcyBhcmUgcHJvdmlkZWQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihudWxsLCBudWxsLCB7YWx3YXlzTWF0Y2g6IGRlZmF1bHRDYXBzLCBmaXJzdE1hdGNoOiBbe31dfSk7XG4gICAgICAgIGQucHJvdG9jb2wuc2hvdWxkLmVxdWFsKCdXM0MnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIGEgbWV0aG9kIHRvIGdldCBkcml2ZXIgZm9yIGEgc2Vzc2lvbicsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBbc2Vzc0lkXSA9IGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihkZWZhdWx0Q2Fwcyk7XG4gICAgICBkLmRyaXZlckZvclNlc3Npb24oc2Vzc0lkKS5zaG91bGQuZXFsKGQpO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ2NvbW1hbmQgcXVldWUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBsZXQgZCA9IG5ldyBEcml2ZXJDbGFzcygpO1xuXG4gICAgICBsZXQgd2FpdE1zID0gMTA7XG4gICAgICBkLmdldFN0YXR1cyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgQi5kZWxheSh3YWl0TXMpO1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgICAgIH0uYmluZChkKTtcblxuICAgICAgZC5nZXRTZXNzaW9ucyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgQi5kZWxheSh3YWl0TXMpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ211bHRpcGFzcycpO1xuICAgICAgfS5iaW5kKGQpO1xuXG4gICAgICBhZnRlckVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICBkLmNsZWFyTmV3Q29tbWFuZFRpbWVvdXQoKTtcbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIHF1ZXVlIGNvbW1hbmRzIGFuZC5leGVjdXRlQ29tbWFuZC9yZXNwb25kIGluIHRoZSBvcmRlciByZWNlaXZlZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG51bUNtZHMgPSAxMDtcbiAgICAgICAgbGV0IGNtZHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1DbWRzOyBpKyspIHtcbiAgICAgICAgICBjbWRzLnB1c2goZC5leGVjdXRlQ29tbWFuZCgnZ2V0U3RhdHVzJykpO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgQi5hbGwoY21kcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbnVtQ21kczsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHNbaV0gPD0gcmVzdWx0c1tpIC0gMV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR290IHJlc3VsdCBvdXQgb2Ygb3JkZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpdCgnc2hvdWxkIGhhbmRsZSBlcnJvcnMgY29ycmVjdGx5IHdoZW4gcXVldWluZycsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV0IG51bUNtZHMgPSAxMDtcbiAgICAgICAgbGV0IGNtZHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1DbWRzOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSA9PT0gNSkge1xuICAgICAgICAgICAgY21kcy5wdXNoKGQuZXhlY3V0ZUNvbW1hbmQoJ2dldFNlc3Npb25zJykpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbWRzLnB1c2goZC5leGVjdXRlQ29tbWFuZCgnZ2V0U3RhdHVzJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IEIuc2V0dGxlKGNtZHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDU7IGkrKykge1xuICAgICAgICAgIGlmIChyZXN1bHRzW2ldLnZhbHVlKCkgPD0gcmVzdWx0c1tpIC0gMV0udmFsdWUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHb3QgcmVzdWx0IG91dCBvZiBvcmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzWzVdLnJlYXNvbigpLm1lc3NhZ2Uuc2hvdWxkLmNvbnRhaW4oJ211bHRpcGFzcycpO1xuICAgICAgICBmb3IgKGxldCBpID0gNzsgaSA8IG51bUNtZHM7IGkrKykge1xuICAgICAgICAgIGlmIChyZXN1bHRzW2ldLnZhbHVlKCkgPD0gcmVzdWx0c1tpIC0gMV0udmFsdWUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdHb3QgcmVzdWx0IG91dCBvZiBvcmRlcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGl0KCdzaG91bGQgbm90IGNhcmUgaWYgcXVldWUgZW1wdGllcyBmb3IgYSBiaXQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBudW1DbWRzID0gMTA7XG4gICAgICAgIGxldCBjbWRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ21kczsgaSsrKSB7XG4gICAgICAgICAgY21kcy5wdXNoKGQuZXhlY3V0ZUNvbW1hbmQoJ2dldFN0YXR1cycpKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IEIuYWxsKGNtZHMpO1xuICAgICAgICBjbWRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ21kczsgaSsrKSB7XG4gICAgICAgICAgY21kcy5wdXNoKGQuZXhlY3V0ZUNvbW1hbmQoJ2dldFN0YXR1cycpKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzID0gYXdhaXQgQi5hbGwoY21kcyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbnVtQ21kczsgaSsrKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHNbaV0gPD0gcmVzdWx0c1tpIC0gMV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignR290IHJlc3VsdCBvdXQgb2Ygb3JkZXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3RpbWVvdXRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgYmVmb3JlKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgZC5jcmVhdGVTZXNzaW9uKGRlZmF1bHRDYXBzKTtcbiAgICAgIH0pO1xuICAgICAgZGVzY3JpYmUoJ2NvbW1hbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0KCdzaG91bGQgZXhpc3QgYnkgZGVmYXVsdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkLm5ld0NvbW1hbmRUaW1lb3V0TXMuc2hvdWxkLmVxdWFsKDYwMDAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgYmUgc2V0dGFibGUgdGhyb3VnaCBgdGltZW91dHNgJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGF3YWl0IGQudGltZW91dHMoJ2NvbW1hbmQnLCAyMCk7XG4gICAgICAgICAgZC5uZXdDb21tYW5kVGltZW91dE1zLnNob3VsZC5lcXVhbCgyMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBkZXNjcmliZSgnaW1wbGljaXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0KCdzaG91bGQgbm90IGV4aXN0IGJ5IGRlZmF1bHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZC5pbXBsaWNpdFdhaXRNcy5zaG91bGQuZXF1YWwoMCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIGJlIHNldHRhYmxlIHRocm91Z2ggYHRpbWVvdXRzYCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhd2FpdCBkLnRpbWVvdXRzKCdpbXBsaWNpdCcsIDIwKTtcbiAgICAgICAgICBkLmltcGxpY2l0V2FpdE1zLnNob3VsZC5lcXVhbCgyMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBkZXNjcmliZSgndGltZW91dHMgKFczQyknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBiZWZvcmVFYWNoKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYXdhaXQgZC5jcmVhdGVTZXNzaW9uKG51bGwsIG51bGwsIHczY0NhcHMpO1xuICAgICAgfSk7XG4gICAgICBhZnRlckVhY2goYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBhd2FpdCBkLmRlbGV0ZVNlc3Npb24oKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCBnZXQgdGltZW91dHMgdGhhdCB3ZSBzZXQnLCBhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF3YWl0IGQudGltZW91dHModW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCAxMDAwKTtcbiAgICAgICAgYXdhaXQgZC5nZXRUaW1lb3V0cygpLnNob3VsZC5ldmVudHVhbGx5LmhhdmUucHJvcGVydHkoJ2ltcGxpY2l0JywgMTAwMCk7XG4gICAgICAgIGF3YWl0IGQudGltZW91dHMoJ2NvbW1hbmQnLCAyMDAwKTtcbiAgICAgICAgYXdhaXQgZC5nZXRUaW1lb3V0cygpLnNob3VsZC5ldmVudHVhbGx5LmRlZXAuZXF1YWwoe1xuICAgICAgICAgIGltcGxpY2l0OiAxMDAwLFxuICAgICAgICAgIGNvbW1hbmQ6IDIwMDAsXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCBkLnRpbWVvdXRzKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgMzAwMCk7XG4gICAgICAgIGF3YWl0IGQuZ2V0VGltZW91dHMoKS5zaG91bGQuZXZlbnR1YWxseS5kZWVwLmVxdWFsKHtcbiAgICAgICAgICBpbXBsaWNpdDogMzAwMCxcbiAgICAgICAgICBjb21tYW5kOiAyMDAwLFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZGVzY3JpYmUoJ3Jlc2V0IGNvbXBhdGliaWxpdHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdCgnc2hvdWxkIG5vdCBhbGxvdyBib3RoIGZ1bGxSZXNldCBhbmQgbm9SZXNldCB0byBiZSB0cnVlJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBsZXQgbmV3Q2FwcyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRDYXBzLCB7XG4gICAgICAgICAgZnVsbFJlc2V0OiB0cnVlLFxuICAgICAgICAgIG5vUmVzZXQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihuZXdDYXBzKS5zaG91bGQuZXZlbnR1YWxseS5iZS5yZWplY3RlZFdpdGgoXG4gICAgICAgICAgICAvbm9SZXNldC4rZnVsbFJlc2V0Lyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdwcm94eWluZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBzZXNzSWQ7XG4gICAgICBiZWZvcmVFYWNoKGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgW3Nlc3NJZF0gPSBhd2FpdCBkLmNyZWF0ZVNlc3Npb24oZGVmYXVsdENhcHMpO1xuICAgICAgfSk7XG4gICAgICBkZXNjcmliZSgnI3Byb3h5QWN0aXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCgnc2hvdWxkIGV4aXN0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGQucHJveHlBY3RpdmUuc2hvdWxkLmJlLmFuLmluc3RhbmNlb2YoRnVuY3Rpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZC5wcm94eUFjdGl2ZShzZXNzSWQpLnNob3VsZC5iZS5mYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW4gZXJyb3Igd2hlbiBzZXNzaW9uSWQgaXMgd3JvbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgKCgpID0+IHsgZC5wcm94eUFjdGl2ZSgnYWFhJyk7IH0pLnNob3VsZC50aHJvdztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZGVzY3JpYmUoJyNnZXRQcm94eUF2b2lkTGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXQoJ3Nob3VsZCBleGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkLmdldFByb3h5QXZvaWRMaXN0LnNob3VsZC5iZS5hbi5pbnN0YW5jZW9mKEZ1bmN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIGFuIGFycmF5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGQuZ2V0UHJveHlBdm9pZExpc3Qoc2Vzc0lkKS5zaG91bGQuYmUuYW4uaW5zdGFuY2VvZihBcnJheSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHRocm93IGFuIGVycm9yIHdoZW4gc2Vzc2lvbklkIGlzIHdyb25nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICgoKSA9PiB7IGQuZ2V0UHJveHlBdm9pZExpc3QoJ2FhYScpOyB9KS5zaG91bGQudGhyb3c7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGRlc2NyaWJlKCcjY2FuUHJveHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGl0KCdzaG91bGQgaGF2ZSBhICNjYW5Qcm94eSBtZXRob2QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZC5jYW5Qcm94eS5zaG91bGQuYmUuYW4uaW5zdGFuY2VvZihGdW5jdGlvbik7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmcm9tICNjYW5Qcm94eScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkLmNhblByb3h5KHNlc3NJZCkuc2hvdWxkLmJlLmZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbiBlcnJvciB3aGVuIHNlc3Npb25JZCBpcyB3cm9uZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAoKCkgPT4geyBkLmNhblByb3h5KCk7IH0pLnNob3VsZC50aHJvdztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZGVzY3JpYmUoJyNwcm94eVJvdXRlSXNBdm9pZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIGZvcm0gb2YgYXZvaWRhbmNlIGxpc3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgYXZvaWRTdHViID0gc2lub24uc3R1YihkLCAnZ2V0UHJveHlBdm9pZExpc3QnKTtcbiAgICAgICAgICBhdm9pZFN0dWIucmV0dXJucyhbWydQT1NUJywgL1xcL2Zvby9dLCBbJ0dFVCddXSk7XG4gICAgICAgICAgKCgpID0+IHsgZC5wcm94eVJvdXRlSXNBdm9pZGVkKCk7IH0pLnNob3VsZC50aHJvdztcbiAgICAgICAgICBhdm9pZFN0dWIucmV0dXJucyhbWydQT1NUJywgL1xcL2Zvby9dLCBbJ0dFVCcsIC9eZm9vLywgJ2JhciddXSk7XG4gICAgICAgICAgKCgpID0+IHsgZC5wcm94eVJvdXRlSXNBdm9pZGVkKCk7IH0pLnNob3VsZC50aHJvdztcbiAgICAgICAgICBhdm9pZFN0dWIucmVzdG9yZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaXQoJ3Nob3VsZCByZWplY3QgYmFkIGh0dHAgbWV0aG9kcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBhdm9pZFN0dWIgPSBzaW5vbi5zdHViKGQsICdnZXRQcm94eUF2b2lkTGlzdCcpO1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXR1cm5zKFtbJ1BPU1QnLCAvXmZvby9dLCBbJ0JBWkVURScsIC9eYmFyL11dKTtcbiAgICAgICAgICAoKCkgPT4geyBkLnByb3h5Um91dGVJc0F2b2lkZWQoKTsgfSkuc2hvdWxkLnRocm93O1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXN0b3JlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHJlamVjdCBub24tcmVnZXggcm91dGVzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnN0IGF2b2lkU3R1YiA9IHNpbm9uLnN0dWIoZCwgJ2dldFByb3h5QXZvaWRMaXN0Jyk7XG4gICAgICAgICAgYXZvaWRTdHViLnJldHVybnMoW1snUE9TVCcsIC9eZm9vL10sIFsnR0VUJywgJy9iYXInXV0pO1xuICAgICAgICAgICgoKSA9PiB7IGQucHJveHlSb3V0ZUlzQXZvaWRlZCgpOyB9KS5zaG91bGQudGhyb3c7XG4gICAgICAgICAgYXZvaWRTdHViLnJlc3RvcmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgcmV0dXJuIHRydWUgZm9yIHJvdXRlcyBpbiB0aGUgYXZvaWQgbGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBhdm9pZFN0dWIgPSBzaW5vbi5zdHViKGQsICdnZXRQcm94eUF2b2lkTGlzdCcpO1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXR1cm5zKFtbJ1BPU1QnLCAvXlxcL2Zvby9dXSk7XG4gICAgICAgICAgZC5wcm94eVJvdXRlSXNBdm9pZGVkKG51bGwsICdQT1NUJywgJy9mb28vYmFyJykuc2hvdWxkLmJlLnRydWU7XG4gICAgICAgICAgYXZvaWRTdHViLnJlc3RvcmUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgc3RyaXAgYXdheSBhbnkgd2QvaHViIHByZWZpeCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBhdm9pZFN0dWIgPSBzaW5vbi5zdHViKGQsICdnZXRQcm94eUF2b2lkTGlzdCcpO1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXR1cm5zKFtbJ1BPU1QnLCAvXlxcL2Zvby9dXSk7XG4gICAgICAgICAgZC5wcm94eVJvdXRlSXNBdm9pZGVkKG51bGwsICdQT1NUJywgJy93ZC9odWIvZm9vL2JhcicpLnNob3VsZC5iZS50cnVlO1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXN0b3JlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3Igcm91dGVzIG5vdCBpbiB0aGUgYXZvaWQgbGlzdCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCBhdm9pZFN0dWIgPSBzaW5vbi5zdHViKGQsICdnZXRQcm94eUF2b2lkTGlzdCcpO1xuICAgICAgICAgIGF2b2lkU3R1Yi5yZXR1cm5zKFtbJ1BPU1QnLCAvXlxcL2Zvby9dXSk7XG4gICAgICAgICAgZC5wcm94eVJvdXRlSXNBdm9pZGVkKG51bGwsICdHRVQnLCAnL2Zvby9iYXInKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgICAgICAgZC5wcm94eVJvdXRlSXNBdm9pZGVkKG51bGwsICdQT1NUJywgJy9ib28nKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgICAgICAgYXZvaWRTdHViLnJlc3RvcmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGRlc2NyaWJlKCdldmVudCB0aW1pbmcgZnJhbWV3b3JrJywgZnVuY3Rpb24gKCkge1xuICAgICAgbGV0IGJlZm9yZVN0YXJ0VGltZTtcbiAgICAgIGJlZm9yZUVhY2goYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBiZWZvcmVTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBkLnNob3VsZFZhbGlkYXRlQ2FwcyA9IGZhbHNlO1xuICAgICAgICBhd2FpdCBkLmV4ZWN1dGVDb21tYW5kKCdjcmVhdGVTZXNzaW9uJywgZGVmYXVsdENhcHMpO1xuICAgICAgfSk7XG4gICAgICBkZXNjcmliZSgnI2V2ZW50SGlzdG9yeScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXQoJ3Nob3VsZCBoYXZlIGFuIGV2ZW50SGlzdG9yeSBwcm9wZXJ0eScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzaG91bGQuZXhpc3QoZC5ldmVudEhpc3RvcnkpO1xuICAgICAgICAgIHNob3VsZC5leGlzdChkLmV2ZW50SGlzdG9yeS5jb21tYW5kcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0KCdzaG91bGQgaGF2ZSBhIHNlc3Npb24gc3RhcnQgdGltaW5nIGFmdGVyIHNlc3Npb24gc3RhcnQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGV0IHtuZXdTZXNzaW9uUmVxdWVzdGVkLCBuZXdTZXNzaW9uU3RhcnRlZH0gPSBkLmV2ZW50SGlzdG9yeTtcbiAgICAgICAgICBuZXdTZXNzaW9uUmVxdWVzdGVkLnNob3VsZC5oYXZlLmxlbmd0aCgxKTtcbiAgICAgICAgICBuZXdTZXNzaW9uU3RhcnRlZC5zaG91bGQuaGF2ZS5sZW5ndGgoMSk7XG4gICAgICAgICAgbmV3U2Vzc2lvblJlcXVlc3RlZFswXS5zaG91bGQuYmUuYSgnbnVtYmVyJyk7XG4gICAgICAgICAgbmV3U2Vzc2lvblN0YXJ0ZWRbMF0uc2hvdWxkLmJlLmEoJ251bWJlcicpO1xuICAgICAgICAgIChuZXdTZXNzaW9uUmVxdWVzdGVkWzBdID49IGJlZm9yZVN0YXJ0VGltZSkuc2hvdWxkLmJlLnRydWU7XG4gICAgICAgICAgKG5ld1Nlc3Npb25TdGFydGVkWzBdID49IG5ld1Nlc3Npb25SZXF1ZXN0ZWRbMF0pLnNob3VsZC5iZS50cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpdCgnc2hvdWxkIGluY2x1ZGUgYSBjb21tYW5kcyBsaXN0JywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGF3YWl0IGQuZXhlY3V0ZUNvbW1hbmQoJ2dldFN0YXR1cycsIFtdKTtcbiAgICAgICAgICBkLmV2ZW50SGlzdG9yeS5jb21tYW5kcy5sZW5ndGguc2hvdWxkLmVxdWFsKDIpO1xuICAgICAgICAgIGQuZXZlbnRIaXN0b3J5LmNvbW1hbmRzWzFdLmNtZC5zaG91bGQuZXF1YWwoJ2dldFN0YXR1cycpO1xuICAgICAgICAgIGQuZXZlbnRIaXN0b3J5LmNvbW1hbmRzWzFdLnN0YXJ0VGltZS5zaG91bGQuYmUuYSgnbnVtYmVyJyk7XG4gICAgICAgICAgZC5ldmVudEhpc3RvcnkuY29tbWFuZHNbMV0uZW5kVGltZS5zaG91bGQuYmUuYSgnbnVtYmVyJyk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBkZXNjcmliZSgnI2xvZ0V2ZW50JywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCgnc2hvdWxkIGFsbG93IGxvZ2dpbmcgYXJiaXRyYXJ5IGV2ZW50cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkLmxvZ0V2ZW50KCdmb28nKTtcbiAgICAgICAgICBkLmV2ZW50SGlzdG9yeS5mb29bMF0uc2hvdWxkLmJlLmEoJ251bWJlcicpO1xuICAgICAgICAgIChkLmV2ZW50SGlzdG9yeS5mb29bMF0gPj0gYmVmb3JlU3RhcnRUaW1lKS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGl0KCdzaG91bGQgbm90IGFsbG93IHJlc2VydmVkIG9yIG9kZGx5IGZvcm1lZCBldmVudCBuYW1lcycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgZC5sb2dFdmVudCgnY29tbWFuZHMnKTtcbiAgICAgICAgICB9KS5zaG91bGQudGhyb3coKTtcbiAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgZC5sb2dFdmVudCgxKTtcbiAgICAgICAgICB9KS5zaG91bGQudGhyb3coKTtcbiAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgZC5sb2dFdmVudCh7fSk7XG4gICAgICAgICAgfSkuc2hvdWxkLnRocm93KCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBpdCgnc2hvdWxkIGFsbG93IGxvZ2dpbmcgdGhlIHNhbWUgZXZlbnQgbXVsdGlwbGUgdGltZXMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGQubG9nRXZlbnQoJ2JhcicpO1xuICAgICAgICBkLmxvZ0V2ZW50KCdiYXInKTtcbiAgICAgICAgZC5ldmVudEhpc3RvcnkuYmFyLnNob3VsZC5oYXZlLmxlbmd0aCgyKTtcbiAgICAgICAgZC5ldmVudEhpc3RvcnkuYmFyWzFdLnNob3VsZC5iZS5hKCdudW1iZXInKTtcbiAgICAgICAgKGQuZXZlbnRIaXN0b3J5LmJhclsxXSA+PSBkLmV2ZW50SGlzdG9yeS5iYXJbMF0pLnNob3VsZC5iZS50cnVlO1xuICAgICAgfSk7XG4gICAgICBkZXNjcmliZSgnZ2V0U2Vzc2lvbiBkZWNvcmF0aW9uJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBpdCgnc2hvdWxkIGRlY29yYXRlIGdldFNlc3Npb24gcmVzcG9uc2UgaWYgb3B0LWluIGNhcCBpcyBwcm92aWRlZCcsIGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBsZXQgcmVzID0gYXdhaXQgZC5nZXRTZXNzaW9uKCk7XG4gICAgICAgICAgc2hvdWxkLm5vdC5leGlzdChyZXMuZXZlbnRzKTtcblxuICAgICAgICAgIGQuY2Fwcy5ldmVudFRpbWluZ3MgPSB0cnVlO1xuICAgICAgICAgIHJlcyA9IGF3YWl0IGQuZ2V0U2Vzc2lvbigpO1xuICAgICAgICAgIHNob3VsZC5leGlzdChyZXMuZXZlbnRzKTtcbiAgICAgICAgICBzaG91bGQuZXhpc3QocmVzLmV2ZW50cy5uZXdTZXNzaW9uUmVxdWVzdGVkKTtcbiAgICAgICAgICByZXMuZXZlbnRzLm5ld1Nlc3Npb25SZXF1ZXN0ZWRbMF0uc2hvdWxkLmJlLmEoJ251bWJlcicpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRlc2NyaWJlKCcucmVzZXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpdCgnc2hvdWxkIHJlc2V0IGFzIFczQyBpZiB0aGUgb3JpZ2luYWwgc2Vzc2lvbiB3YXMgVzNDJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjYXBzID0ge1xuICAgICAgICAgIGFsd2F5c01hdGNoOiBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBhcHA6ICdGYWtlJyxcbiAgICAgICAgICAgIGRldmljZU5hbWU6ICdGYWtlJyxcbiAgICAgICAgICAgIGF1dG9tYXRpb25OYW1lOiAnRmFrZScsXG4gICAgICAgICAgICBwbGF0Zm9ybU5hbWU6ICdGYWtlJyxcbiAgICAgICAgICB9LCBkZWZhdWx0Q2FwcyksXG4gICAgICAgICAgZmlyc3RNYXRjaDogW3t9XSxcbiAgICAgICAgfTtcbiAgICAgICAgYXdhaXQgZC5jcmVhdGVTZXNzaW9uKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjYXBzKTtcbiAgICAgICAgZC5wcm90b2NvbC5zaG91bGQuZXF1YWwoJ1czQycpO1xuICAgICAgICBhd2FpdCBkLnJlc2V0KCk7XG4gICAgICAgIGQucHJvdG9jb2wuc2hvdWxkLmVxdWFsKCdXM0MnKTtcbiAgICAgIH0pO1xuICAgICAgaXQoJ3Nob3VsZCByZXNldCBhcyBNSlNPTldQIGlmIHRoZSBvcmlnaW5hbCBzZXNzaW9uIHdhcyBNSlNPTldQJywgYXN5bmMgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjYXBzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgIGFwcDogJ0Zha2UnLFxuICAgICAgICAgIGRldmljZU5hbWU6ICdGYWtlJyxcbiAgICAgICAgICBhdXRvbWF0aW9uTmFtZTogJ0Zha2UnLFxuICAgICAgICAgIHBsYXRmb3JtTmFtZTogJ0Zha2UnLFxuICAgICAgICB9LCBkZWZhdWx0Q2Fwcyk7XG4gICAgICAgIGF3YWl0IGQuY3JlYXRlU2Vzc2lvbihjYXBzKTtcbiAgICAgICAgZC5wcm90b2NvbC5zaG91bGQuZXF1YWwoJ01KU09OV1AnKTtcbiAgICAgICAgYXdhaXQgZC5yZXNldCgpO1xuICAgICAgICBkLnByb3RvY29sLnNob3VsZC5lcXVhbCgnTUpTT05XUCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdEZXZpY2VTZXR0aW5ncycsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIG5vdCBob2xkIG9uIHRvIHJlZmVyZW5jZSBvZiBkZWZhdWx0cyBpbiBjb25zdHJ1Y3RvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGxldCBvYmogPSB7Zm9vOiAnYmFyJ307XG4gICAgICBsZXQgZDEgPSBuZXcgRGV2aWNlU2V0dGluZ3Mob2JqKTtcbiAgICAgIGxldCBkMiA9IG5ldyBEZXZpY2VTZXR0aW5ncyhvYmopO1xuICAgICAgZDEuX3NldHRpbmdzLmZvbyA9ICdiYXonO1xuICAgICAgZDEuX3NldHRpbmdzLnNob3VsZC5ub3QuZXFsKGQyLl9zZXR0aW5ncyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCcuaXNGZWF0dXJlRW5hYmxlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBkID0gbmV3IERyaXZlckNsYXNzKCk7XG5cbiAgICBhZnRlckVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgZC5kZW55SW5zZWN1cmUgPSBudWxsO1xuICAgICAgZC5hbGxvd0luc2VjdXJlID0gbnVsbDtcbiAgICAgIGQucmVsYXhlZFNlY3VyaXR5RW5hYmxlZCA9IG51bGw7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNheSBhIGZlYXR1cmUgaXMgZW5hYmxlZCB3aGVuIGl0IGlzIGV4cGxpY2l0bHkgYWxsb3dlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGQuYWxsb3dJbnNlY3VyZSA9IFsnZm9vJywgJ2JhciddO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdmb28nKS5zaG91bGQuYmUudHJ1ZTtcbiAgICAgIGQuaXNGZWF0dXJlRW5hYmxlZCgnYmFyJykuc2hvdWxkLmJlLnRydWU7XG4gICAgICBkLmlzRmVhdHVyZUVuYWJsZWQoJ2JheicpLnNob3VsZC5iZS5mYWxzZTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2F5IGEgZmVhdHVyZSBpcyBub3QgZW5hYmxlZCBpZiBpdCBpcyBub3QgZW5hYmxlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGQuYWxsb3dJbnNlY3VyZSA9IFtdO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdmb28nKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHByZWZlciBkZW55SW5zZWN1cmUgdG8gYWxsb3dJbnNlY3VyZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGQuYWxsb3dJbnNlY3VyZSA9IFsnZm9vJywgJ2JhciddO1xuICAgICAgZC5kZW55SW5zZWN1cmUgPSBbJ2ZvbyddO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdmb28nKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgICBkLmlzRmVhdHVyZUVuYWJsZWQoJ2JhcicpLnNob3VsZC5iZS50cnVlO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdiYXonKS5zaG91bGQuYmUuZmFsc2U7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFsbG93IGdsb2JhbCBzZXR0aW5nIGZvciBpbnNlY3VyaXR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgZC5yZWxheGVkU2VjdXJpdHlFbmFibGVkID0gdHJ1ZTtcbiAgICAgIGQuaXNGZWF0dXJlRW5hYmxlZCgnZm9vJykuc2hvdWxkLmJlLnRydWU7XG4gICAgICBkLmlzRmVhdHVyZUVuYWJsZWQoJ2JhcicpLnNob3VsZC5iZS50cnVlO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdiYXonKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcblxuICAgIGl0KCdnbG9iYWwgc2V0dGluZyBzaG91bGQgYmUgb3ZlcnJpZGVhYmxlJywgZnVuY3Rpb24gKCkge1xuICAgICAgZC5yZWxheGVkU2VjdXJpdHlFbmFibGVkID0gdHJ1ZTtcbiAgICAgIGQuZGVueUluc2VjdXJlID0gWydmb28nLCAnYmFyJ107XG4gICAgICBkLmlzRmVhdHVyZUVuYWJsZWQoJ2ZvbycpLnNob3VsZC5iZS5mYWxzZTtcbiAgICAgIGQuaXNGZWF0dXJlRW5hYmxlZCgnYmFyJykuc2hvdWxkLmJlLmZhbHNlO1xuICAgICAgZC5pc0ZlYXR1cmVFbmFibGVkKCdiYXonKS5zaG91bGQuYmUudHJ1ZTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VEcml2ZXJVbml0VGVzdHM7XG4iXSwiZmlsZSI6InRlc3QvYmFzZWRyaXZlci9kcml2ZXItdGVzdHMuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4ifQ==
