"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getXcrunBinary = exports.SIM_RUNTIME_NAME = exports.DEFAULT_EXEC_TIMEOUT = void 0;
exports.normalizeVersion = normalizeVersion;

require("source-map-support/register");

var _semver = _interopRequireDefault(require("semver"));

const DEFAULT_EXEC_TIMEOUT = 10 * 60 * 1000;
exports.DEFAULT_EXEC_TIMEOUT = DEFAULT_EXEC_TIMEOUT;
const SIM_RUNTIME_NAME = 'com.apple.CoreSimulator.SimRuntime.';
exports.SIM_RUNTIME_NAME = SIM_RUNTIME_NAME;

function normalizeVersion(version) {
  const semverVersion = _semver.default.coerce(version);

  if (!semverVersion) {
    throw new Error(`Unable to parse version '${version}'`);
  }

  return `${semverVersion.major}.${semverVersion.minor}`;
}

const getXcrunBinary = () => process.env.XCRUN_BINARY || 'xcrun';

exports.getXcrunBinary = getXcrunBinary;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9oZWxwZXJzLmpzIl0sIm5hbWVzIjpbIkRFRkFVTFRfRVhFQ19USU1FT1VUIiwiU0lNX1JVTlRJTUVfTkFNRSIsIm5vcm1hbGl6ZVZlcnNpb24iLCJ2ZXJzaW9uIiwic2VtdmVyVmVyc2lvbiIsInNlbXZlciIsImNvZXJjZSIsIkVycm9yIiwibWFqb3IiLCJtaW5vciIsImdldFhjcnVuQmluYXJ5IiwicHJvY2VzcyIsImVudiIsIlhDUlVOX0JJTkFSWSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsb0JBQW9CLEdBQUcsS0FBSyxFQUFMLEdBQVUsSUFBdkM7O0FBQ0EsTUFBTUMsZ0JBQWdCLEdBQUcscUNBQXpCOzs7QUFVQSxTQUFTQyxnQkFBVCxDQUEyQkMsT0FBM0IsRUFBb0M7QUFDbEMsUUFBTUMsYUFBYSxHQUFHQyxnQkFBT0MsTUFBUCxDQUFjSCxPQUFkLENBQXRCOztBQUNBLE1BQUksQ0FBQ0MsYUFBTCxFQUFvQjtBQUNsQixVQUFNLElBQUlHLEtBQUosQ0FBVyw0QkFBMkJKLE9BQVEsR0FBOUMsQ0FBTjtBQUNEOztBQUNELFNBQVEsR0FBRUMsYUFBYSxDQUFDSSxLQUFNLElBQUdKLGFBQWEsQ0FBQ0ssS0FBTSxFQUFyRDtBQUNEOztBQU9NLE1BQU1DLGNBQWMsR0FBRyxNQUFNQyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsWUFBWixJQUE0QixPQUF6RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZW12ZXIgZnJvbSAnc2VtdmVyJztcblxuY29uc3QgREVGQVVMVF9FWEVDX1RJTUVPVVQgPSAxMCAqIDYwICogMTAwMDsgLy8gbXNcbmNvbnN0IFNJTV9SVU5USU1FX05BTUUgPSAnY29tLmFwcGxlLkNvcmVTaW11bGF0b3IuU2ltUnVudGltZS4nO1xuXG4vKipcbiAqIFwiTm9ybWFsaXplXCIgdGhlIHZlcnNpb24sIHNpbmNlIGlPUyB1c2VzICdtYWpvci5taW5vcicgYnV0IHRoZSBydW50aW1lcyBjYW5cbiAqIGJlICdtYWpvci5taW5vci5wYXRjaCdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmVyc2lvbiAtIHRoZSBzdHJpbmcgdmVyc2lvblxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdmVyc2lvbiBpbiAnbWFqb3IubWlub3InIGZvcm1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgdmVyc2lvbiBub3QgcGFyc2VhYmxlIGJ5IHRoZSBgc2VtdmVyYCBwYWNrYWdlXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZlcnNpb24gKHZlcnNpb24pIHtcbiAgY29uc3Qgc2VtdmVyVmVyc2lvbiA9IHNlbXZlci5jb2VyY2UodmVyc2lvbik7XG4gIGlmICghc2VtdmVyVmVyc2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIHBhcnNlIHZlcnNpb24gJyR7dmVyc2lvbn0nYCk7XG4gIH1cbiAgcmV0dXJuIGAke3NlbXZlclZlcnNpb24ubWFqb3J9LiR7c2VtdmVyVmVyc2lvbi5taW5vcn1gO1xufVxuXG5leHBvcnQge1xuICBERUZBVUxUX0VYRUNfVElNRU9VVCwgU0lNX1JVTlRJTUVfTkFNRSxcbiAgbm9ybWFsaXplVmVyc2lvbixcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRYY3J1bkJpbmFyeSA9ICgpID0+IHByb2Nlc3MuZW52LlhDUlVOX0JJTkFSWSB8fCAneGNydW4nO1xuIl0sImZpbGUiOiJsaWIvaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
